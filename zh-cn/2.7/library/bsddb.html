
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="zh_CN">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>11.11. bsddb — Interface to Berkeley DB library &#8212; Python 2.7.18 文档</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    
    <link rel="canonical" href="https://projects.localizethedocs.org/python-docs-l10n/library/bsddb.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Python 2.7.18 文档 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="关于这些文档" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="copyright" title="版权所有" href="../copyright.html" />
    <link rel="next" title="11.12. dumbdbm — Portable DBM implementation" href="dumbdbm.html" />
    <link rel="prev" title="11.10. dbhash — DBM-style interface to the BSD database library" href="dbhash.html" />
    
    <link rel="canonical" href="https://docs.python.org/3/library/bsddb.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">
            <script type="text/javascript" src="../ltd-provenance.js"></script>
            <script type="text/javascript" src="../ltd-current.js"></script>
            <script type="text/javascript" src="../../../ltd-config.js"></script>
            <script type="text/javascript" src="../../../ltd-flyout.js"></script>

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form id="searchbox" role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="快速搜索"/>
            <input type="submit" value="转向"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <h3><a href="../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">11.11. <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code> — Interface to Berkeley DB library</a><ul>
<li><a class="reference internal" href="#hash-btree-and-record-objects">11.11.1. Hash, BTree and Record Objects</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="dbhash.html"
                        title="上一章"><span class="section-number">11.10. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbhash</span></code> — DBM-style interface to the BSD database library</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="dumbdbm.html"
                        title="下一章"><span class="section-number">11.12. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">dumbdbm</span></code> — Portable DBM implementation</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/library/bsddb.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </nav>
    </div>
</div>

<div id="outdated-warning" style="padding: .5em; text-align: center; background-color: #FFBABA; color: #6A0E0E;">
    This document is for an old version of Python that is no longer supported.
    You should upgrade, and read the
    <a href="/3/library/bsddb.html">Python documentation for the current stable release</a>.
</div>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="dumbdbm.html" title="11.12. dumbdbm — Portable DBM implementation"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="dbhash.html" title="11.10. dbhash — DBM-style interface to the BSD database library"
             accesskey="P">上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
          <li id="cpython-language-and-version">
            <a href="../index.html">Python 2.7.18 文档</a> &#187;
          </li>

          <li class="nav-item nav-item-1"><a href="index.html" >The Python Standard Library</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="persistence.html" accesskey="U"><span class="section-number">11. </span>Data Persistence</a> &#187;</li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="text" name="q" />
          <input type="submit" value="转向" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-bsddb">
<span id="bsddb-interface-to-berkeley-db-library"></span><h1><span class="section-number">11.11. </span><a class="reference internal" href="#module-bsddb" title="bsddb: Interface to Berkeley DB database library"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code></a> — Interface to Berkeley DB library<a class="headerlink" href="#module-bsddb" title="永久链接至标题">¶</a></h1>
<div class="deprecated">
<p><span class="versionmodified deprecated">2.6 版后已移除: </span>The <a class="reference internal" href="#module-bsddb" title="bsddb: Interface to Berkeley DB database library"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code></a> module has been removed in Python 3.</p>
</div>
<p>The <a class="reference internal" href="#module-bsddb" title="bsddb: Interface to Berkeley DB database library"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code></a> module provides an interface to the Berkeley DB library.  Users
can create hash, btree or record based library files using the appropriate open
call. Bsddb objects behave generally like dictionaries.  Keys and values must be
strings, however, so to use other objects as keys or to store other kinds of
objects the user must serialize them somehow, typically using
<a class="reference internal" href="marshal.html#marshal.dumps" title="marshal.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">marshal.dumps()</span></code></a> or  <a class="reference internal" href="pickle.html#pickle.dumps" title="pickle.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">pickle.dumps()</span></code></a>.</p>
<p>The <a class="reference internal" href="#module-bsddb" title="bsddb: Interface to Berkeley DB database library"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code></a> module requires a Berkeley DB library version from 4.0 thru
4.7.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<dl class="simple">
<dt><a class="reference external" href="http://www.jcea.es/programacion/pybsddb.htm">http://www.jcea.es/programacion/pybsddb.htm</a></dt><dd><p>The website with documentation for the <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb.db</span></code> Python Berkeley DB
interface that closely mirrors the object oriented interface provided in
Berkeley DB 4.x itself.</p>
</dd>
<dt><a class="reference external" href="http://www.oracle.com/database/berkeley-db/">http://www.oracle.com/database/berkeley-db/</a></dt><dd><p>The Berkeley DB library.</p>
</dd>
</dl>
</div>
<p>A more modern DB, DBEnv and DBSequence object interface is available in the
<code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb.db</span></code> module which closely matches the Berkeley DB C API documented at
the above URLs.  Additional features provided by the <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb.db</span></code> API include
fine tuning, transactions, logging, and multiprocess concurrent database access.</p>
<p>The following is a description of the legacy <a class="reference internal" href="#module-bsddb" title="bsddb: Interface to Berkeley DB database library"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code></a> interface compatible
with the old Python bsddb module.  Starting in Python 2.5 this interface should
be safe for multithreaded access.  The <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb.db</span></code> API is recommended for
threading users as it provides better control.</p>
<p>The <a class="reference internal" href="#module-bsddb" title="bsddb: Interface to Berkeley DB database library"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code></a> module defines the following functions that create objects that
access the appropriate type of Berkeley DB file.  The first two arguments of
each function are the same.  For ease of portability, only the first two
arguments should be used in most instances.</p>
<dl class="function">
<dt id="bsddb.hashopen">
<code class="sig-prename descclassname">bsddb.</code><code class="sig-name descname">hashopen</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="optional">[</span>, <em class="sig-param">flag</em><span class="optional">[</span>, <em class="sig-param">mode</em><span class="optional">[</span>, <em class="sig-param">pgsize</em><span class="optional">[</span>, <em class="sig-param">ffactor</em><span class="optional">[</span>, <em class="sig-param">nelem</em><span class="optional">[</span>, <em class="sig-param">cachesize</em><span class="optional">[</span>, <em class="sig-param">lorder</em><span class="optional">[</span>, <em class="sig-param">hflags</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.hashopen" title="永久链接至目标">¶</a></dt>
<dd><p>Open the hash format file named <em>filename</em>.  Files never intended to be
preserved on disk may be created by passing <code class="docutils literal notranslate"><span class="pre">None</span></code> as the  <em>filename</em>.  The
optional <em>flag</em> identifies the mode used to open the file.  It may be <code class="docutils literal notranslate"><span class="pre">'r'</span></code>
(read only), <code class="docutils literal notranslate"><span class="pre">'w'</span></code> (read-write), <code class="docutils literal notranslate"><span class="pre">'c'</span></code> (read-write - create if necessary;
the default) or <code class="docutils literal notranslate"><span class="pre">'n'</span></code> (read-write - truncate to zero length).  The other
arguments are rarely used and are just passed to the low-level <code class="xref c c-func docutils literal notranslate"><span class="pre">dbopen()</span></code>
function.  Consult the Berkeley DB documentation for their use and
interpretation.</p>
</dd></dl>

<dl class="function">
<dt id="bsddb.btopen">
<code class="sig-prename descclassname">bsddb.</code><code class="sig-name descname">btopen</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="optional">[</span>, <em class="sig-param">flag</em><span class="optional">[</span>, <em class="sig-param">mode</em><span class="optional">[</span>, <em class="sig-param">btflags</em><span class="optional">[</span>, <em class="sig-param">cachesize</em><span class="optional">[</span>, <em class="sig-param">maxkeypage</em><span class="optional">[</span>, <em class="sig-param">minkeypage</em><span class="optional">[</span>, <em class="sig-param">pgsize</em><span class="optional">[</span>, <em class="sig-param">lorder</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.btopen" title="永久链接至目标">¶</a></dt>
<dd><p>Open the btree format file named <em>filename</em>.  Files never intended  to be
preserved on disk may be created by passing <code class="docutils literal notranslate"><span class="pre">None</span></code> as the  <em>filename</em>.  The
optional <em>flag</em> identifies the mode used to open the file.  It may be <code class="docutils literal notranslate"><span class="pre">'r'</span></code>
(read only), <code class="docutils literal notranslate"><span class="pre">'w'</span></code> (read-write), <code class="docutils literal notranslate"><span class="pre">'c'</span></code> (read-write - create if necessary;
the default) or <code class="docutils literal notranslate"><span class="pre">'n'</span></code> (read-write - truncate to zero length).  The other
arguments are rarely used and are just passed to the low-level dbopen function.
Consult the Berkeley DB documentation for their use and interpretation.</p>
</dd></dl>

<dl class="function">
<dt id="bsddb.rnopen">
<code class="sig-prename descclassname">bsddb.</code><code class="sig-name descname">rnopen</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="optional">[</span>, <em class="sig-param">flag</em><span class="optional">[</span>, <em class="sig-param">mode</em><span class="optional">[</span>, <em class="sig-param">rnflags</em><span class="optional">[</span>, <em class="sig-param">cachesize</em><span class="optional">[</span>, <em class="sig-param">pgsize</em><span class="optional">[</span>, <em class="sig-param">lorder</em><span class="optional">[</span>, <em class="sig-param">rlen</em><span class="optional">[</span>, <em class="sig-param">delim</em><span class="optional">[</span>, <em class="sig-param">source</em><span class="optional">[</span>, <em class="sig-param">pad</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.rnopen" title="永久链接至目标">¶</a></dt>
<dd><p>Open a DB record format file named <em>filename</em>.  Files never intended  to be
preserved on disk may be created by passing <code class="docutils literal notranslate"><span class="pre">None</span></code> as the  <em>filename</em>.  The
optional <em>flag</em> identifies the mode used to open the file.  It may be <code class="docutils literal notranslate"><span class="pre">'r'</span></code>
(read only), <code class="docutils literal notranslate"><span class="pre">'w'</span></code> (read-write), <code class="docutils literal notranslate"><span class="pre">'c'</span></code> (read-write - create if necessary;
the default) or <code class="docutils literal notranslate"><span class="pre">'n'</span></code> (read-write - truncate to zero length).  The other
arguments are rarely used and are just passed to the low-level dbopen function.
Consult the Berkeley DB documentation for their use and interpretation.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Beginning in 2.3 some Unix versions of Python may have a <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb185</span></code> module.
This is present <em>only</em> to allow backwards compatibility with systems which ship
with the old Berkeley DB 1.85 database library.  The <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb185</span></code> module
should never be used directly in new code. The module has been removed in
Python 3.  If you find you still need it look in PyPI.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<dl class="simple">
<dt>Module <a class="reference internal" href="dbhash.html#module-dbhash" title="dbhash: DBM-style interface to the BSD database library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbhash</span></code></a></dt><dd><p>DBM-style interface to the <a class="reference internal" href="#module-bsddb" title="bsddb: Interface to Berkeley DB database library"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code></a></p>
</dd>
</dl>
</div>
<section id="hash-btree-and-record-objects">
<span id="bsddb-objects"></span><h2><span class="section-number">11.11.1. </span>Hash, BTree and Record Objects<a class="headerlink" href="#hash-btree-and-record-objects" title="永久链接至标题">¶</a></h2>
<p>Once instantiated, hash, btree and record objects support the same methods as
dictionaries.  In addition, they support the methods listed below.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 2.3.1 版更改: </span>Added dictionary methods.</p>
</div>
<dl class="method">
<dt id="bsddb.bsddbobject.close">
<code class="sig-prename descclassname">bsddbobject.</code><code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.bsddbobject.close" title="永久链接至目标">¶</a></dt>
<dd><p>Close the underlying file.  The object can no longer be accessed.  Since there
is no open <a class="reference internal" href="functions.html#open" title="open"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open()</span></code></a> method for these objects, to open the file again a new
<a class="reference internal" href="#module-bsddb" title="bsddb: Interface to Berkeley DB database library"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code></a> module open function must be called.</p>
</dd></dl>

<dl class="method">
<dt id="bsddb.bsddbobject.keys">
<code class="sig-prename descclassname">bsddbobject.</code><code class="sig-name descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.bsddbobject.keys" title="永久链接至目标">¶</a></dt>
<dd><p>Return the list of keys contained in the DB file.  The order of the list is
unspecified and should not be relied on.  In particular, the order of the list
returned is different for different file formats.</p>
</dd></dl>

<dl class="method">
<dt id="bsddb.bsddbobject.has_key">
<code class="sig-prename descclassname">bsddbobject.</code><code class="sig-name descname">has_key</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.bsddbobject.has_key" title="永久链接至目标">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">1</span></code> if the DB file contains the argument as a key.</p>
</dd></dl>

<dl class="method">
<dt id="bsddb.bsddbobject.set_location">
<code class="sig-prename descclassname">bsddbobject.</code><code class="sig-name descname">set_location</code><span class="sig-paren">(</span><em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.bsddbobject.set_location" title="永久链接至目标">¶</a></dt>
<dd><p>Set the cursor to the item indicated by <em>key</em> and return a tuple containing the
key and its value.  For binary tree databases (opened using <a class="reference internal" href="#bsddb.btopen" title="bsddb.btopen"><code class="xref py py-func docutils literal notranslate"><span class="pre">btopen()</span></code></a>), if
<em>key</em> does not actually exist in the database, the cursor will point to the next
item in sorted order and return that key and value.  For other databases,
<a class="reference internal" href="exceptions.html#exceptions.KeyError" title="exceptions.KeyError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> will be raised if <em>key</em> is not found in the database.</p>
</dd></dl>

<dl class="method">
<dt id="bsddb.bsddbobject.first">
<code class="sig-prename descclassname">bsddbobject.</code><code class="sig-name descname">first</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.bsddbobject.first" title="永久链接至目标">¶</a></dt>
<dd><p>Set the cursor to the first item in the DB file and return it.  The order of
keys in the file is unspecified, except in the case of B-Tree databases. This
method raises <code class="xref py py-exc docutils literal notranslate"><span class="pre">bsddb.error</span></code> if the database is empty.</p>
</dd></dl>

<dl class="method">
<dt id="bsddb.bsddbobject.next">
<code class="sig-prename descclassname">bsddbobject.</code><code class="sig-name descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.bsddbobject.next" title="永久链接至目标">¶</a></dt>
<dd><p>Set the cursor to the next item in the DB file and return it.  The order of
keys in the file is unspecified, except in the case of B-Tree databases.</p>
</dd></dl>

<dl class="method">
<dt id="bsddb.bsddbobject.previous">
<code class="sig-prename descclassname">bsddbobject.</code><code class="sig-name descname">previous</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.bsddbobject.previous" title="永久链接至目标">¶</a></dt>
<dd><p>Set the cursor to the previous item in the DB file and return it.  The order of
keys in the file is unspecified, except in the case of B-Tree databases.  This
is not supported on hashtable databases (those opened with <a class="reference internal" href="#bsddb.hashopen" title="bsddb.hashopen"><code class="xref py py-func docutils literal notranslate"><span class="pre">hashopen()</span></code></a>).</p>
</dd></dl>

<dl class="method">
<dt id="bsddb.bsddbobject.last">
<code class="sig-prename descclassname">bsddbobject.</code><code class="sig-name descname">last</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.bsddbobject.last" title="永久链接至目标">¶</a></dt>
<dd><p>Set the cursor to the last item in the DB file and return it.  The order of keys
in the file is unspecified.  This is not supported on hashtable databases (those
opened with <a class="reference internal" href="#bsddb.hashopen" title="bsddb.hashopen"><code class="xref py py-func docutils literal notranslate"><span class="pre">hashopen()</span></code></a>). This method raises <code class="xref py py-exc docutils literal notranslate"><span class="pre">bsddb.error</span></code> if the
database is empty.</p>
</dd></dl>

<dl class="method">
<dt id="bsddb.bsddbobject.sync">
<code class="sig-prename descclassname">bsddbobject.</code><code class="sig-name descname">sync</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bsddb.bsddbobject.sync" title="永久链接至目标">¶</a></dt>
<dd><p>Synchronize the database on disk.</p>
</dd></dl>

<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">bsddb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">bsddb</span><span class="o">.</span><span class="n">btopen</span><span class="p">(</span><span class="s1">&#39;spam.db&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="n">db</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%d</span><span class="s1">&#39;</span><span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">]</span>
<span class="go">&#39;9&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="go">(&#39;0&#39;, &#39;0&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">(&#39;1&#39;, &#39;1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">last</span><span class="p">()</span>
<span class="go">(&#39;9&#39;, &#39;81&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">set_location</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
<span class="go">(&#39;2&#39;, &#39;4&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">previous</span><span class="p">()</span>
<span class="go">(&#39;1&#39;, &#39;1&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">db</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span>
<span class="go">0 0</span>
<span class="go">1 1</span>
<span class="go">2 4</span>
<span class="go">3 9</span>
<span class="go">4 16</span>
<span class="go">5 25</span>
<span class="go">6 36</span>
<span class="go">7 49</span>
<span class="go">8 64</span>
<span class="go">9 81</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;8&#39;</span> <span class="ow">in</span> <span class="n">db</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">sync</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</section>
</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">11.11. <code class="xref py py-mod docutils literal notranslate"><span class="pre">bsddb</span></code> — Interface to Berkeley DB library</a><ul>
<li><a class="reference internal" href="#hash-btree-and-record-objects">11.11.1. Hash, BTree and Record Objects</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="dbhash.html"
                        title="上一章"><span class="section-number">11.10. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbhash</span></code> — DBM-style interface to the BSD database library</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="dumbdbm.html"
                        title="下一章"><span class="section-number">11.12. </span><code class="xref py py-mod docutils literal notranslate"><span class="pre">dumbdbm</span></code> — Portable DBM implementation</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/library/bsddb.rst.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="dumbdbm.html" title="11.12. dumbdbm — Portable DBM implementation"
             >下一页</a> |</li>
        <li class="right" >
          <a href="dbhash.html" title="11.10. dbhash — DBM-style interface to the BSD database library"
             >上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
          <li id="cpython-language-and-version">
            <a href="../index.html">Python 2.7.18 文档</a> &#187;
          </li>

          <li class="nav-item nav-item-1"><a href="index.html" >The Python Standard Library</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="persistence.html" ><span class="section-number">11. </span>Data Persistence</a> &#187;</li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="text" name="q" />
          <input type="submit" value="转向" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">版权所有</a> 1990-2026, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="">History and License</a> for more information.
    <br /><br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    最后更新于 2月 24, 2026.
    
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>

  </body>
</html>