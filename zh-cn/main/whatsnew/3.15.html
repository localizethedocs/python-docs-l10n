<!DOCTYPE html>

<html lang="zh-CN" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="What's new in Python 3.15" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/whatsnew/3.15.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Editor, TBD,. This article explains the new features in Python 3.15, compared to 3.14. For full details, see the changelog. Summary --- release highlights: New features: High frequency statistical ..." />
<meta property="og:image" content="_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Editor, TBD,. This article explains the new features in Python 3.15, compared to 3.14. For full details, see the changelog. Summary --- release highlights: New features: High frequency statistical ..." />
<meta name="theme-color" content="#3776ab">
<meta property="og:image:width" content="200">
<meta property="og:image:height" content="200">

    <title>What&#39;s new in Python 3.15 &#8212; Python 3.15.0a0 文档</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=234b1a7c" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css?v=8cd84f99" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css?v=5349f25f" />
    
    <script src="../_static/documentation_options.js?v=7e8ef7d7"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=beaddf03"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="canonical" href="https://projects.localizethedocs.org/python-docs-l10n/whatsnew/3.15.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Python 3.15.0a0 文档 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="关于此文档" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="copyright" title="版权" href="../copyright.html" />
    <link rel="next" title="What&#39;s new in Python 3.14" href="3.14.html" />
    <link rel="prev" title="What&#39;s New in Python" href="index.html" />
    
    <link rel="canonical" href="https://docs.python.org/3/whatsnew/3.15.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg">
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
            <script type="text/javascript" src="../_static/rtd_switcher.js"></script>
            <meta name="readthedocs-addons-api-version" content="1">
            <script type="text/javascript" src="../ltd-provenance.js"></script>
            <script type="text/javascript" src="../ltd-current.js"></script>
            <script type="text/javascript" src="../../../ltd-config.js"></script>
            <script type="text/javascript" src="../../../ltd-flyout.js"></script>

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="菜单">
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo">
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="快速搜索" aria-label="快速搜索" type="search" name="q">
                <input type="submit" value="转到">
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    主题
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>自动</option>
        <option value="light">明亮</option>
        <option value="dark">黑暗</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">What's new in Python 3.15</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Summary --- release highlights</a></li>
<li><a class="reference internal" href="#new-features">New features</a><ul>
<li><a class="reference internal" href="#high-frequency-statistical-sampling-profiler">High frequency statistical sampling profiler</a></li>
<li><a class="reference internal" href="#improved-error-messages">Improved error messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Other language changes</a></li>
<li><a class="reference internal" href="#new-modules">New modules</a></li>
<li><a class="reference internal" href="#improved-modules">Improved modules</a><ul>
<li><a class="reference internal" href="#collections">collections</a></li>
<li><a class="reference internal" href="#collections-abc">collections.abc</a></li>
<li><a class="reference internal" href="#dbm">dbm</a></li>
<li><a class="reference internal" href="#difflib">difflib</a></li>
<li><a class="reference internal" href="#hashlib">hashlib</a></li>
<li><a class="reference internal" href="#http-client">http.client</a></li>
<li><a class="reference internal" href="#http-cookies">http.cookies</a></li>
<li><a class="reference internal" href="#locale">locale</a></li>
<li><a class="reference internal" href="#math">math</a></li>
<li><a class="reference internal" href="#mmap">mmap</a></li>
<li><a class="reference internal" href="#os-path">os.path</a></li>
<li><a class="reference internal" href="#resource">resource</a></li>
<li><a class="reference internal" href="#shelve">shelve</a></li>
<li><a class="reference internal" href="#socket">socket</a></li>
<li><a class="reference internal" href="#sqlite3">sqlite3</a></li>
<li><a class="reference internal" href="#ssl">ssl</a></li>
<li><a class="reference internal" href="#sys">sys</a></li>
<li><a class="reference internal" href="#tarfile">tarfile</a></li>
<li><a class="reference internal" href="#timeit">timeit</a></li>
<li><a class="reference internal" href="#types">types</a></li>
<li><a class="reference internal" href="#unittest">unittest</a></li>
<li><a class="reference internal" href="#xml-parsers-expat">xml.parsers.expat</a></li>
<li><a class="reference internal" href="#zlib">zlib</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizations">Optimizations</a><ul>
<li><a class="reference internal" href="#module-name">module_name</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecated">Deprecated</a><ul>
<li><a class="reference internal" href="#cli">CLI</a></li>
<li><a class="reference internal" href="#id1">hashlib</a></li>
<li><a class="reference internal" href="#version">__version__</a></li>
<li><a class="reference internal" href="#pending-removal-in-python-3-16">Pending removal in Python 3.16</a></li>
<li><a class="reference internal" href="#pending-removal-in-python-3-17">Pending removal in Python 3.17</a></li>
<li><a class="reference internal" href="#pending-removal-in-python-3-19">Pending removal in Python 3.19</a></li>
<li><a class="reference internal" href="#pending-removal-in-python-3-20">Pending removal in Python 3.20</a></li>
<li><a class="reference internal" href="#pending-removal-in-future-versions">Pending removal in future versions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#removed">Removed</a><ul>
<li><a class="reference internal" href="#ctypes">ctypes</a></li>
<li><a class="reference internal" href="#glob">glob</a></li>
<li><a class="reference internal" href="#http-server">http.server</a></li>
<li><a class="reference internal" href="#importlib-resources">importlib.resources</a></li>
<li><a class="reference internal" href="#pathlib">pathlib</a></li>
<li><a class="reference internal" href="#platform">platform</a></li>
<li><a class="reference internal" href="#sre">sre_*</a></li>
<li><a class="reference internal" href="#sysconfig">sysconfig</a></li>
<li><a class="reference internal" href="#threading">threading</a></li>
<li><a class="reference internal" href="#typing">typing</a></li>
<li><a class="reference internal" href="#unicodedata">unicodedata</a></li>
<li><a class="reference internal" href="#wave">wave</a></li>
<li><a class="reference internal" href="#zipimport">zipimport</a></li>
</ul>
</li>
<li><a class="reference internal" href="#porting-to-python-3-15">Porting to Python 3.15</a></li>
<li><a class="reference internal" href="#build-changes">Build changes</a></li>
<li><a class="reference internal" href="#c-api-changes">C API changes</a><ul>
<li><a class="reference internal" href="#id2">New features</a></li>
<li><a class="reference internal" href="#id3">Porting to Python 3.15</a></li>
<li><a class="reference internal" href="#deprecated-c-apis">Deprecated C APIs</a></li>
<li><a class="reference internal" href="#removed-c-apis">Removed C APIs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一主题</h4>
    <p class="topless"><a href="index.html"
                          title="上一章">What's New in Python</a></p>
  </div>
  <div>
    <h4>下一主题</h4>
    <p class="topless"><a href="3.14.html"
                          title="下一章">What's new in Python 3.14</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/whatsnew/3.15.rst?plain=1"
            rel="nofollow">Show source
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="Related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="3.14.html" title="What&#39;s new in Python 3.14"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="index.html" title="What&#39;s New in Python"
             accesskey="P">上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
          <li id="cpython-language-and-version">
            <a href="../index.html">3.15.0a0 Documentation</a> &#187;
          </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">What's New in Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">What's new in Python 3.15</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="search" name="q" id="search-box">
          <input type="submit" value="转到">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    主题
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>自动</option>
        <option value="light">明亮</option>
        <option value="dark">黑暗</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="what-s-new-in-python-3-15">
<h1>What's new in Python 3.15<a class="headerlink" href="#what-s-new-in-python-3-15" title="Link to this heading">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Editor<span class="colon">:</span></dt>
<dd class="field-odd"><p>TBD</p>
</dd>
</dl>
<p>This article explains the new features in Python 3.15, compared to 3.14.</p>
<p>For full details, see the <a class="reference internal" href="changelog.html#changelog"><span class="std std-ref">changelog</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Prerelease users should be aware that this document is currently in draft
form. It will be updated substantially as Python 3.15 moves towards release,
so it's worth checking back even after reading earlier versions.</p>
</div>
<section id="summary-release-highlights">
<h2>Summary --- release highlights<a class="headerlink" href="#summary-release-highlights" title="Link to this heading">¶</a></h2>
</section>
<section id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Link to this heading">¶</a></h2>
<section id="high-frequency-statistical-sampling-profiler">
<span id="whatsnew315-sampling-profiler"></span><h3>High frequency statistical sampling profiler<a class="headerlink" href="#high-frequency-statistical-sampling-profiler" title="Link to this heading">¶</a></h3>
<p>A new statistical sampling profiler has been added to the new <code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling</span></code> module as
<code class="xref py py-mod docutils literal notranslate"><span class="pre">profiling.sampling</span></code>. This profiler enables low-overhead performance analysis of
running Python processes without requiring code modification or process restart.</p>
<p>Unlike deterministic profilers (<a class="reference internal" href="../library/profile.html#module-cProfile" title="cProfile"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cProfile</span></code></a> and <a class="reference internal" href="../library/profile.html#module-profile" title="profile: Python source profiler."><code class="xref py py-mod docutils literal notranslate"><span class="pre">profile</span></code></a>) that instrument
every function call, the sampling profiler periodically captures stack traces from
running processes.  This approach provides virtually zero overhead while achieving
sampling rates of <strong>up to 1,000,000 Hz</strong>, making it the fastest sampling profiler
available for Python (at the time of its contribution) and ideal for debugging
performance issues in production environments.</p>
<p>Key features include:</p>
<ul class="simple">
<li><p><strong>Zero-overhead profiling</strong>: Attach to any running Python process without
affecting its performance</p></li>
<li><p><strong>No code modification required</strong>: Profile existing applications without restart</p></li>
<li><p><strong>Real-time statistics</strong>: Monitor sampling quality during data collection</p></li>
<li><p><strong>Multiple output formats</strong>: Generate both detailed statistics and flamegraph data</p></li>
<li><p><strong>Thread-aware profiling</strong>: Option to profile all threads or just the main thread</p></li>
</ul>
<p>Profile process 1234 for 10 seconds with default settings:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="mi">1234</span>
</pre></div>
</div>
<p>Profile with custom interval and duration, save to file:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="o">-</span><span class="n">i</span> <span class="mi">50</span> <span class="o">-</span><span class="n">d</span> <span class="mi">30</span> <span class="o">-</span><span class="n">o</span> <span class="n">profile</span><span class="o">.</span><span class="n">stats</span> <span class="mi">1234</span>
</pre></div>
</div>
<p>Generate collapsed stacks for flamegraph:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="o">--</span><span class="n">collapsed</span> <span class="mi">1234</span>
</pre></div>
</div>
<p>Profile all threads and sort by total time:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">profiling</span><span class="o">.</span><span class="n">sampling</span> <span class="o">-</span><span class="n">a</span> <span class="o">--</span><span class="n">sort</span><span class="o">-</span><span class="n">tottime</span> <span class="mi">1234</span>
</pre></div>
</div>
<p>The profiler generates statistical estimates of where time is spent:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">Real</span><span class="o">-</span><span class="n">time</span> <span class="n">sampling</span> <span class="n">stats</span><span class="p">:</span> <span class="n">Mean</span><span class="p">:</span> <span class="mf">100261.5</span><span class="n">Hz</span> <span class="p">(</span><span class="mf">9.97</span><span class="n">µs</span><span class="p">)</span> <span class="n">Min</span><span class="p">:</span> <span class="mf">86333.4</span><span class="n">Hz</span> <span class="p">(</span><span class="mf">11.58</span><span class="n">µs</span><span class="p">)</span> <span class="n">Max</span><span class="p">:</span> <span class="mf">118807.2</span><span class="n">Hz</span> <span class="p">(</span><span class="mf">8.42</span><span class="n">µs</span><span class="p">)</span> <span class="n">Samples</span><span class="p">:</span> <span class="mi">400001</span>
<span class="n">Captured</span> <span class="mi">498841</span> <span class="n">samples</span> <span class="ow">in</span> <span class="mf">5.00</span> <span class="n">seconds</span>
<span class="n">Sample</span> <span class="n">rate</span><span class="p">:</span> <span class="mf">99768.04</span> <span class="n">samples</span><span class="o">/</span><span class="n">sec</span>
<span class="n">Error</span> <span class="n">rate</span><span class="p">:</span> <span class="mf">0.72</span><span class="o">%</span>
<span class="n">Profile</span> <span class="n">Stats</span><span class="p">:</span>
      <span class="n">nsamples</span>   <span class="n">sample</span><span class="o">%</span>   <span class="n">tottime</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span>    <span class="n">cumul</span><span class="o">%</span>   <span class="n">cumtime</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="n">filename</span><span class="p">:</span><span class="n">lineno</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
      <span class="mi">43</span><span class="o">/</span><span class="mi">418858</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>      <span class="mf">87.9</span>         <span class="mf">4.189</span>  <span class="n">case</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">667</span><span class="p">(</span><span class="n">TestCase</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
    <span class="mi">3293</span><span class="o">/</span><span class="mi">418812</span>       <span class="mf">0.7</span>         <span class="mf">0.033</span>      <span class="mf">87.9</span>         <span class="mf">4.188</span>  <span class="n">case</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">613</span><span class="p">(</span><span class="n">TestCase</span><span class="o">.</span><span class="n">_callTestMethod</span><span class="p">)</span>
  <span class="mi">158562</span><span class="o">/</span><span class="mi">158562</span>      <span class="mf">33.3</span>         <span class="mf">1.586</span>      <span class="mf">33.3</span>         <span class="mf">1.586</span>  <span class="n">test_compile</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">725</span><span class="p">(</span><span class="n">TestSpecifics</span><span class="o">.</span><span class="n">test_compiler_recursion_limit</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">check_limit</span><span class="p">)</span>
  <span class="mi">129553</span><span class="o">/</span><span class="mi">129553</span>      <span class="mf">27.2</span>         <span class="mf">1.296</span>      <span class="mf">27.2</span>         <span class="mf">1.296</span>  <span class="n">ast</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">46</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span>
      <span class="mi">0</span><span class="o">/</span><span class="mi">128129</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>      <span class="mf">26.9</span>         <span class="mf">1.281</span>  <span class="n">test_ast</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">884</span><span class="p">(</span><span class="n">AST_Tests</span><span class="o">.</span><span class="n">test_ast_recursion_limit</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">check_limit</span><span class="p">)</span>
        <span class="mi">7</span><span class="o">/</span><span class="mi">67446</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>      <span class="mf">14.2</span>         <span class="mf">0.674</span>  <span class="n">test_compile</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">729</span><span class="p">(</span><span class="n">TestSpecifics</span><span class="o">.</span><span class="n">test_compiler_recursion_limit</span><span class="p">)</span>
        <span class="mi">6</span><span class="o">/</span><span class="mi">60380</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>      <span class="mf">12.7</span>         <span class="mf">0.604</span>  <span class="n">test_ast</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">888</span><span class="p">(</span><span class="n">AST_Tests</span><span class="o">.</span><span class="n">test_ast_recursion_limit</span><span class="p">)</span>
        <span class="mi">3</span><span class="o">/</span><span class="mi">50020</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>      <span class="mf">10.5</span>         <span class="mf">0.500</span>  <span class="n">test_compile</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">727</span><span class="p">(</span><span class="n">TestSpecifics</span><span class="o">.</span><span class="n">test_compiler_recursion_limit</span><span class="p">)</span>
        <span class="mi">1</span><span class="o">/</span><span class="mi">38011</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>       <span class="mf">8.0</span>         <span class="mf">0.380</span>  <span class="n">test_ast</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">886</span><span class="p">(</span><span class="n">AST_Tests</span><span class="o">.</span><span class="n">test_ast_recursion_limit</span><span class="p">)</span>
        <span class="mi">1</span><span class="o">/</span><span class="mi">25076</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>       <span class="mf">5.3</span>         <span class="mf">0.251</span>  <span class="n">test_compile</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">728</span><span class="p">(</span><span class="n">TestSpecifics</span><span class="o">.</span><span class="n">test_compiler_recursion_limit</span><span class="p">)</span>
    <span class="mi">22361</span><span class="o">/</span><span class="mi">22362</span>       <span class="mf">4.7</span>         <span class="mf">0.224</span>       <span class="mf">4.7</span>         <span class="mf">0.224</span>  <span class="n">test_compile</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1368</span><span class="p">(</span><span class="n">TestSpecifics</span><span class="o">.</span><span class="n">test_big_dict_literal</span><span class="p">)</span>
        <span class="mi">4</span><span class="o">/</span><span class="mi">18008</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>       <span class="mf">3.8</span>         <span class="mf">0.180</span>  <span class="n">test_ast</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">889</span><span class="p">(</span><span class="n">AST_Tests</span><span class="o">.</span><span class="n">test_ast_recursion_limit</span><span class="p">)</span>
      <span class="mi">11</span><span class="o">/</span><span class="mi">17696</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>       <span class="mf">3.7</span>         <span class="mf">0.177</span>  <span class="n">subprocess</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1038</span><span class="p">(</span><span class="n">Popen</span><span class="o">.</span><span class="fm">__init__</span><span class="p">)</span>
    <span class="mi">16968</span><span class="o">/</span><span class="mi">16968</span>       <span class="mf">3.6</span>         <span class="mf">0.170</span>       <span class="mf">3.6</span>         <span class="mf">0.170</span>  <span class="n">subprocess</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">1900</span><span class="p">(</span><span class="n">Popen</span><span class="o">.</span><span class="n">_execute_child</span><span class="p">)</span>
        <span class="mi">2</span><span class="o">/</span><span class="mi">16941</span>       <span class="mf">0.0</span>         <span class="mf">0.000</span>       <span class="mf">3.6</span>         <span class="mf">0.169</span>  <span class="n">test_compile</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">730</span><span class="p">(</span><span class="n">TestSpecifics</span><span class="o">.</span><span class="n">test_compiler_recursion_limit</span><span class="p">)</span>

<span class="n">Legend</span><span class="p">:</span>
  <span class="n">nsamples</span><span class="p">:</span> <span class="n">Direct</span><span class="o">/</span><span class="n">Cumulative</span> <span class="n">samples</span> <span class="p">(</span><span class="n">direct</span> <span class="n">executing</span> <span class="o">/</span> <span class="n">on</span> <span class="n">call</span> <span class="n">stack</span><span class="p">)</span>
  <span class="n">sample</span><span class="o">%</span><span class="p">:</span> <span class="n">Percentage</span> <span class="n">of</span> <span class="n">total</span> <span class="n">samples</span> <span class="n">this</span> <span class="n">function</span> <span class="n">was</span> <span class="n">directly</span> <span class="n">executing</span>
  <span class="n">tottime</span><span class="p">:</span> <span class="n">Estimated</span> <span class="n">total</span> <span class="n">time</span> <span class="n">spent</span> <span class="n">directly</span> <span class="ow">in</span> <span class="n">this</span> <span class="n">function</span>
  <span class="n">cumul</span><span class="o">%</span><span class="p">:</span> <span class="n">Percentage</span> <span class="n">of</span> <span class="n">total</span> <span class="n">samples</span> <span class="n">when</span> <span class="n">this</span> <span class="n">function</span> <span class="n">was</span> <span class="n">on</span> <span class="n">the</span> <span class="n">call</span> <span class="n">stack</span>
  <span class="n">cumtime</span><span class="p">:</span> <span class="n">Estimated</span> <span class="n">cumulative</span> <span class="n">time</span> <span class="p">(</span><span class="n">including</span> <span class="n">time</span> <span class="ow">in</span> <span class="n">called</span> <span class="n">functions</span><span class="p">)</span>
  <span class="n">filename</span><span class="p">:</span><span class="n">lineno</span><span class="p">(</span><span class="n">function</span><span class="p">):</span> <span class="n">Function</span> <span class="n">location</span> <span class="ow">and</span> <span class="n">name</span>

<span class="n">Summary</span> <span class="n">of</span> <span class="n">Interesting</span> <span class="n">Functions</span><span class="p">:</span>

<span class="n">Functions</span> <span class="k">with</span> <span class="n">Highest</span> <span class="n">Direct</span><span class="o">/</span><span class="n">Cumulative</span> <span class="n">Ratio</span> <span class="p">(</span><span class="n">Hot</span> <span class="n">Spots</span><span class="p">):</span>
  <span class="mf">1.000</span> <span class="n">direct</span><span class="o">/</span><span class="n">cumulative</span> <span class="n">ratio</span><span class="p">,</span> <span class="mf">33.3</span><span class="o">%</span> <span class="n">direct</span> <span class="n">samples</span><span class="p">:</span> <span class="n">test_compile</span><span class="o">.</span><span class="n">py</span><span class="p">:(</span><span class="n">TestSpecifics</span><span class="o">.</span><span class="n">test_compiler_recursion_limit</span><span class="o">.&lt;</span><span class="nb">locals</span><span class="o">&gt;.</span><span class="n">check_limit</span><span class="p">)</span>
  <span class="mf">1.000</span> <span class="n">direct</span><span class="o">/</span><span class="n">cumulative</span> <span class="n">ratio</span><span class="p">,</span> <span class="mf">27.2</span><span class="o">%</span> <span class="n">direct</span> <span class="n">samples</span><span class="p">:</span> <span class="n">ast</span><span class="o">.</span><span class="n">py</span><span class="p">:(</span><span class="n">parse</span><span class="p">)</span>
  <span class="mf">1.000</span> <span class="n">direct</span><span class="o">/</span><span class="n">cumulative</span> <span class="n">ratio</span><span class="p">,</span> <span class="mf">3.6</span><span class="o">%</span> <span class="n">direct</span> <span class="n">samples</span><span class="p">:</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">py</span><span class="p">:(</span><span class="n">Popen</span><span class="o">.</span><span class="n">_execute_child</span><span class="p">)</span>

<span class="n">Functions</span> <span class="k">with</span> <span class="n">Highest</span> <span class="n">Call</span> <span class="n">Frequency</span> <span class="p">(</span><span class="n">Indirect</span> <span class="n">Calls</span><span class="p">):</span>
  <span class="mi">418815</span> <span class="n">indirect</span> <span class="n">calls</span><span class="p">,</span> <span class="mf">87.9</span><span class="o">%</span> <span class="n">total</span> <span class="n">stack</span> <span class="n">presence</span><span class="p">:</span> <span class="n">case</span><span class="o">.</span><span class="n">py</span><span class="p">:(</span><span class="n">TestCase</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
  <span class="mi">415519</span> <span class="n">indirect</span> <span class="n">calls</span><span class="p">,</span> <span class="mf">87.9</span><span class="o">%</span> <span class="n">total</span> <span class="n">stack</span> <span class="n">presence</span><span class="p">:</span> <span class="n">case</span><span class="o">.</span><span class="n">py</span><span class="p">:(</span><span class="n">TestCase</span><span class="o">.</span><span class="n">_callTestMethod</span><span class="p">)</span>
  <span class="mi">159470</span> <span class="n">indirect</span> <span class="n">calls</span><span class="p">,</span> <span class="mf">33.5</span><span class="o">%</span> <span class="n">total</span> <span class="n">stack</span> <span class="n">presence</span><span class="p">:</span> <span class="n">test_compile</span><span class="o">.</span><span class="n">py</span><span class="p">:(</span><span class="n">TestSpecifics</span><span class="o">.</span><span class="n">test_compiler_recursion_limit</span><span class="p">)</span>

<span class="n">Functions</span> <span class="k">with</span> <span class="n">Highest</span> <span class="n">Call</span> <span class="n">Magnification</span> <span class="p">(</span><span class="n">Cumulative</span><span class="o">/</span><span class="n">Direct</span><span class="p">):</span>
  <span class="mf">12267.9</span><span class="n">x</span> <span class="n">call</span> <span class="n">magnification</span><span class="p">,</span> <span class="mi">159470</span> <span class="n">indirect</span> <span class="n">calls</span> <span class="kn">from</span><span class="w"> </span><span class="mi">13</span> <span class="n">direct</span><span class="p">:</span> <span class="n">test_compile</span><span class="o">.</span><span class="n">py</span><span class="p">:(</span><span class="n">TestSpecifics</span><span class="o">.</span><span class="n">test_compiler_recursion_limit</span><span class="p">)</span>
  <span class="mf">10581.7</span><span class="n">x</span> <span class="n">call</span> <span class="n">magnification</span><span class="p">,</span> <span class="mi">116388</span> <span class="n">indirect</span> <span class="n">calls</span> <span class="kn">from</span><span class="w"> </span><span class="mi">11</span> <span class="n">direct</span><span class="p">:</span> <span class="n">test_ast</span><span class="o">.</span><span class="n">py</span><span class="p">:(</span><span class="n">AST_Tests</span><span class="o">.</span><span class="n">test_ast_recursion_limit</span><span class="p">)</span>
  <span class="mf">9740.9</span><span class="n">x</span> <span class="n">call</span> <span class="n">magnification</span><span class="p">,</span> <span class="mi">418815</span> <span class="n">indirect</span> <span class="n">calls</span> <span class="kn">from</span><span class="w"> </span><span class="mi">43</span> <span class="n">direct</span><span class="p">:</span> <span class="n">case</span><span class="o">.</span><span class="n">py</span><span class="p">:(</span><span class="n">TestCase</span><span class="o">.</span><span class="n">run</span><span class="p">)</span>
</pre></div>
</div>
<p>The profiler automatically identifies performance bottlenecks through statistical
analysis, highlighting functions with high CPU usage and call frequency patterns.</p>
<p>This capability is particularly valuable for debugging performance issues in
production systems where traditional profiling approaches would be too intrusive.</p>
<p>(Contributed by Pablo Galindo and László Kiss Kollár in <a class="reference external" href="https://github.com/python/cpython/issues/135953">gh-135953</a>.)</p>
</section>
<section id="improved-error-messages">
<h3>Improved error messages<a class="headerlink" href="#improved-error-messages" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The interpreter now provides more helpful suggestions in <a class="reference internal" href="../library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a>
exceptions when accessing an attribute on an object that does not exist, but
a similar attribute is available through one of its members.</p>
<p>For example, if the object has an attribute that itself exposes the requested
name, the error message will suggest accessing it via that inner attribute:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Circle</span><span class="p">:</span>
   <span class="n">radius</span><span class="p">:</span> <span class="nb">float</span>

   <span class="nd">@property</span>
   <span class="k">def</span><span class="w"> </span><span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">pi</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">radius</span><span class="o">**</span><span class="mi">2</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Container</span><span class="p">:</span>
   <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inner</span><span class="p">:</span> <span class="n">Circle</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">inner</span> <span class="o">=</span> <span class="n">inner</span>

<span class="n">circle</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mf">4.0</span><span class="p">)</span>
<span class="n">container</span> <span class="o">=</span> <span class="n">Container</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">container</span><span class="o">.</span><span class="n">area</span><span class="p">)</span>
</pre></div>
</div>
<p>Running this code now produces a clearer suggestion:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gt">Traceback (most recent call last):</span>
<span class="gr">File &quot;/home/pablogsal/github/python/main/lel.py&quot;, line 42, in &lt;module&gt;</span>
<span class="gr">   print(container.area)</span>
<span class="gr">         ^^^^^^^^^^^^^^</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;Container&#39; object has no attribute &#39;area&#39;. Did you mean: &#39;inner.area&#39;?</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="other-language-changes">
<h2>Other language changes<a class="headerlink" href="#other-language-changes" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Python now uses <a class="reference external" href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a> as the default encoding, independent of the system's
environment. This means that I/O operations without an explicit encoding,
e.g. <code class="docutils literal notranslate"><span class="pre">open('flying-circus.txt')</span></code>, will use UTF-8.
UTF-8 is a widely-supported <a class="reference external" href="https://home.unicode.org/">Unicode</a> character encoding that has become a
<em>de facto</em> standard for representing text, including nearly every webpage
on the internet, many common file formats, programming languages, and more.</p>
<p>This only applies when no <code class="docutils literal notranslate"><span class="pre">encoding</span></code> argument is given. For best
compatibility between versions of Python, ensure that an explicit <code class="docutils literal notranslate"><span class="pre">encoding</span></code>
argument is always provided. The <a class="reference internal" href="../library/io.html#io-encoding-warning"><span class="std std-ref">opt-in encoding warning</span></a>
can be used to identify code that may be affected by this change.
The special <code class="docutils literal notranslate"><span class="pre">encoding='locale'</span></code> argument uses the current locale
encoding, and has been supported since Python 3.10.</p>
<p>To retain the previous behaviour, Python's UTF-8 mode may be disabled with
the <span class="target" id="index-0"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONUTF8"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONUTF8=0</span></code></a> environment variable or the
<a class="reference internal" href="../using/cmdline.html#cmdoption-X"><code class="xref std std-option docutils literal notranslate"><span class="pre">-X</span> <span class="pre">utf8=0</span></code></a> command line option.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p><span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0686/"><strong>PEP 686</strong></a> for further details.</p>
</div>
<p>(Contributed by Adam Turner in <a class="reference external" href="https://github.com/python/cpython/issues/133711">gh-133711</a>; PEP 686 written by Inada Naoki.)</p>
</li>
<li><p>Several error messages incorrectly using the term &quot;argument&quot; have been corrected.
(Contributed by Stan Ulbrych in <a class="reference external" href="https://github.com/python/cpython/issues/133382">gh-133382</a>.)</p></li>
<li><p>The interpreter now tries to provide a suggestion when
<a class="reference internal" href="../library/functions.html#delattr" title="delattr"><code class="xref py py-func docutils literal notranslate"><span class="pre">delattr()</span></code></a> fails due to a missing attribute.
When an attribute name that closely resembles an existing attribute is used,
the interpreter will suggest the correct attribute name in the error message.
For example:</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">abcde</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">a</span><span class="o">.</span><span class="n">abcdf</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;A&#39; object has no attribute &#39;abcdf&#39;. Did you mean: &#39;abcde&#39;?</span>
</pre></div>
</div>
<p>(Contributed by Nikita Sobolev and Pranjal Prajapati in <a class="reference external" href="https://github.com/python/cpython/issues/136588">gh-136588</a>.)</p>
</li>
<li><p>Unraisable exceptions are now highlighted with color by default. This can be
controlled by <a class="reference internal" href="../using/cmdline.html#using-on-controlling-color"><span class="std std-ref">environment variables</span></a>.
(Contributed by Peter Bierma in <a class="reference external" href="https://github.com/python/cpython/issues/134170">gh-134170</a>.)</p></li>
<li><p>The <a class="reference internal" href="../reference/datamodel.html#object.__repr__" title="object.__repr__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__repr__()</span></code></a> of <a class="reference internal" href="../library/exceptions.html#ImportError" title="ImportError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImportError</span></code></a> and <a class="reference internal" href="../library/exceptions.html#ModuleNotFoundError" title="ModuleNotFoundError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModuleNotFoundError</span></code></a>
now shows &quot;name&quot; and &quot;path&quot; as <code class="docutils literal notranslate"><span class="pre">name=&lt;name&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">path=&lt;path&gt;</span></code> if they were given
as keyword arguments at construction time.
(Contributed by Serhiy Storchaka, Oleg Iarygin, and Yoav Nir in <a class="reference external" href="https://github.com/python/cpython/issues/74185">gh-74185</a>.)</p></li>
<li><p>The <a class="reference internal" href="../reference/datamodel.html#object.__dict__" title="object.__dict__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__dict__</span></code></a> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">__weakref__</span></code> descriptors now use a
single descriptor instance per interpreter, shared across all types that
need them.
This speeds up class creation, and helps avoid reference cycles.
(Contributed by Petr Viktorin in <a class="reference external" href="https://github.com/python/cpython/issues/135228">gh-135228</a>.)</p></li>
<li><p>The <a class="reference internal" href="../using/cmdline.html#cmdoption-W"><code class="xref std std-option docutils literal notranslate"><span class="pre">-W</span></code></a> option and the <span class="target" id="index-2"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONWARNINGS"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONWARNINGS</span></code></a> environment variable
can now specify regular expressions instead of literal strings to match
the warning message and the module name, if the corresponding field starts
and ends with a forward slash (<code class="docutils literal notranslate"><span class="pre">/</span></code>).
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/134716">gh-134716</a>.)</p></li>
<li><p>Functions that take timestamp or timeout arguments now accept any real
numbers (such as <a class="reference internal" href="../library/decimal.html#decimal.Decimal" title="decimal.Decimal"><code class="xref py py-class docutils literal notranslate"><span class="pre">Decimal</span></code></a> and <a class="reference internal" href="../library/fractions.html#fractions.Fraction" title="fractions.Fraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">Fraction</span></code></a>),
not only integers or floats, although this does not improve precision.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/67795">gh-67795</a>.)</p></li>
</ul>
</section>
<section id="new-modules">
<h2>New modules<a class="headerlink" href="#new-modules" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>None yet.</p></li>
</ul>
</section>
<section id="improved-modules">
<h2>Improved modules<a class="headerlink" href="#improved-modules" title="Link to this heading">¶</a></h2>
<section id="collections">
<h3>collections<a class="headerlink" href="#collections" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added <code class="xref py py-meth docutils literal notranslate"><span class="pre">collections.Counter.__xor__()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">collections.Counter.__ixor__()</span></code> to compute the symmetric difference
between <a class="reference internal" href="../library/collections.html#collections.Counter" title="collections.Counter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Counter</span></code></a> objects.
(Contributed by Raymond Hettinger in <a class="reference external" href="https://github.com/python/cpython/issues/138682">gh-138682</a>.)</p></li>
</ul>
</section>
<section id="collections-abc">
<h3>collections.abc<a class="headerlink" href="#collections-abc" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a class="reference internal" href="../library/collections.abc.html#collections.abc.ByteString" title="collections.abc.ByteString"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.ByteString</span></code></a> has been removed from
<code class="docutils literal notranslate"><span class="pre">collections.abc.__all__</span></code>. <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.ByteString</span></code> has been
deprecated since Python 3.12, and is scheduled for removal in Python 3.17.</p></li>
<li><p>The following statements now cause <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>s to be emitted at
runtime:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">collections.abc</span> <span class="pre">import</span> <span class="pre">ByteString</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">collections.abc;</span> <span class="pre">collections.abc.ByteString</span></code>.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>s were already emitted if
<a class="reference internal" href="../library/collections.abc.html#collections.abc.ByteString" title="collections.abc.ByteString"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.ByteString</span></code></a> was subclassed or used as the second
argument to <a class="reference internal" href="../library/functions.html#isinstance" title="isinstance"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code></a> or <a class="reference internal" href="../library/functions.html#issubclass" title="issubclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">issubclass()</span></code></a>, but warnings were not
previously emitted if it was merely imported or accessed from the
<code class="xref py py-mod docutils literal notranslate"><span class="pre">collections.abc</span></code> module.</p>
</li>
</ul>
</section>
<section id="dbm">
<h3>dbm<a class="headerlink" href="#dbm" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added new <code class="xref py py-meth docutils literal notranslate"><span class="pre">reorganize()</span></code> methods to <a class="reference internal" href="../library/dbm.html#module-dbm.dumb" title="dbm.dumb: Portable implementation of the simple DBM interface."><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbm.dumb</span></code></a> and <a class="reference internal" href="../library/dbm.html#module-dbm.sqlite3" title="dbm.sqlite3: SQLite backend for dbm (All)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">dbm.sqlite3</span></code></a>
which allow to recover unused free space previously occupied by deleted entries.
(Contributed by Andrea Oliveri in <a class="reference external" href="https://github.com/python/cpython/issues/134004">gh-134004</a>.)</p></li>
</ul>
</section>
<section id="difflib">
<h3>difflib<a class="headerlink" href="#difflib" title="Link to this heading">¶</a></h3>
<blockquote>
<div></div></blockquote>
<ul class="simple" id="whatsnew315-color-difflib">
<li><p>Introduced the optional <em>color</em> parameter to <a class="reference internal" href="../library/difflib.html#difflib.unified_diff" title="difflib.unified_diff"><code class="xref py py-func docutils literal notranslate"><span class="pre">difflib.unified_diff()</span></code></a>,
enabling color output similar to <strong class="program">git diff</strong>.
This can be controlled by <a class="reference internal" href="../using/cmdline.html#using-on-controlling-color"><span class="std std-ref">environment variables</span></a>.
(Contributed by Douglas Thor in <a class="reference external" href="https://github.com/python/cpython/issues/133725">gh-133725</a>.)</p></li>
<li><p>Improved the styling of HTML diff pages generated by the <a class="reference internal" href="../library/difflib.html#difflib.HtmlDiff" title="difflib.HtmlDiff"><code class="xref py py-class docutils literal notranslate"><span class="pre">difflib.HtmlDiff</span></code></a>
class, and migrated the output to the HTML5 standard.
(Contributed by Jiahao Li in <a class="reference external" href="https://github.com/python/cpython/issues/134580">gh-134580</a>.)</p></li>
</ul>
</section>
<section id="hashlib">
<h3>hashlib<a class="headerlink" href="#hashlib" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Ensure that hash functions guaranteed to be always <em>available</em> exist as
attributes of <a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a> even if they will not work at runtime due to
missing backend implementations. For instance, <code class="docutils literal notranslate"><span class="pre">hashlib.md5</span></code> will no
longer raise <a class="reference internal" href="../library/exceptions.html#AttributeError" title="AttributeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code></a> if OpenSSL is not available and Python
has been built without MD5 support.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/136929">gh-136929</a>.)</p></li>
</ul>
</section>
<section id="http-client">
<h3>http.client<a class="headerlink" href="#http-client" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>A new <em>max_response_headers</em> keyword-only parameter has been added to
<a class="reference internal" href="../library/http.client.html#http.client.HTTPConnection" title="http.client.HTTPConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPConnection</span></code></a> and <a class="reference internal" href="../library/http.client.html#http.client.HTTPSConnection" title="http.client.HTTPSConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPSConnection</span></code></a>
constructors. This parameter overrides the default maximum number of allowed
response headers.
(Contributed by Alexander Enrique Urieles Nieto in <a class="reference external" href="https://github.com/python/cpython/issues/131724">gh-131724</a>.)</p></li>
</ul>
</section>
<section id="http-cookies">
<h3>http.cookies<a class="headerlink" href="#http-cookies" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Allow '<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>' double quotes in cookie values.
(Contributed by Nick Burns and Senthil Kumaran in <a class="reference external" href="https://github.com/python/cpython/issues/92936">gh-92936</a>.)</p></li>
</ul>
</section>
<section id="locale">
<h3>locale<a class="headerlink" href="#locale" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../library/locale.html#locale.setlocale" title="locale.setlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">setlocale()</span></code></a> now supports language codes with <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>-modifiers.
<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>-modifier are no longer silently removed in <a class="reference internal" href="../library/locale.html#locale.getlocale" title="locale.getlocale"><code class="xref py py-func docutils literal notranslate"><span class="pre">getlocale()</span></code></a>,
but included in the language code.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/137729">gh-137729</a>.)</p></li>
</ul>
</section>
<section id="math">
<h3>math<a class="headerlink" href="#math" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add <a class="reference internal" href="../library/math.html#math.isnormal" title="math.isnormal"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.isnormal()</span></code></a> and <a class="reference internal" href="../library/math.html#math.issubnormal" title="math.issubnormal"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.issubnormal()</span></code></a> functions.
(Contributed by Sergey B Kirpichev in <a class="reference external" href="https://github.com/python/cpython/issues/132908">gh-132908</a>.)</p></li>
<li><p>Add <a class="reference internal" href="../library/math.html#math.fmax" title="math.fmax"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.fmax()</span></code></a>, <a class="reference internal" href="../library/math.html#math.fmin" title="math.fmin"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.fmin()</span></code></a> and <a class="reference internal" href="../library/math.html#math.signbit" title="math.signbit"><code class="xref py py-func docutils literal notranslate"><span class="pre">math.signbit()</span></code></a> functions.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/135853">gh-135853</a>.)</p></li>
</ul>
</section>
<section id="mmap">
<h3>mmap<a class="headerlink" href="#mmap" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../library/mmap.html#mmap.mmap" title="mmap.mmap"><code class="xref py py-class docutils literal notranslate"><span class="pre">mmap.mmap</span></code></a> now has a <em>trackfd</em> parameter on Windows;
if it is <code class="docutils literal notranslate"><span class="pre">False</span></code>, the file handle corresponding to <em>fileno</em> will
not be duplicated.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/78502">gh-78502</a>.)</p></li>
</ul>
</section>
<section id="os-path">
<h3>os.path<a class="headerlink" href="#os-path" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add support of the all-but-last mode in <a class="reference internal" href="../library/os.path.html#os.path.realpath" title="os.path.realpath"><code class="xref py py-func docutils literal notranslate"><span class="pre">realpath()</span></code></a>.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/71189">gh-71189</a>.)</p></li>
<li><p>The <em>strict</em> parameter to <a class="reference internal" href="../library/os.path.html#os.path.realpath" title="os.path.realpath"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.realpath()</span></code></a> accepts a new value,
<a class="reference internal" href="../library/os.path.html#os.path.ALLOW_MISSING" title="os.path.ALLOW_MISSING"><code class="xref py py-data docutils literal notranslate"><span class="pre">os.path.ALLOW_MISSING</span></code></a>.
If used, errors other than <a class="reference internal" href="../library/exceptions.html#FileNotFoundError" title="FileNotFoundError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">FileNotFoundError</span></code></a> will be re-raised;
the resulting path can be missing but it will be free of symlinks.
(Contributed by Petr Viktorin for <span class="target" id="index-3"></span><a class="cve reference external" href="https://www.cve.org/CVERecord?id=CVE-2025-4517"><strong>CVE 2025-4517</strong></a>.)</p></li>
</ul>
</section>
<section id="resource">
<h3>resource<a class="headerlink" href="#resource" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add new constants: <a class="reference internal" href="../library/resource.html#resource.RLIMIT_NTHR" title="resource.RLIMIT_NTHR"><code class="xref py py-data docutils literal notranslate"><span class="pre">RLIMIT_NTHR</span></code></a>,
<a class="reference internal" href="../library/resource.html#resource.RLIMIT_UMTXP" title="resource.RLIMIT_UMTXP"><code class="xref py py-data docutils literal notranslate"><span class="pre">RLIMIT_UMTXP</span></code></a>, <a class="reference internal" href="../library/resource.html#resource.RLIMIT_THREADS" title="resource.RLIMIT_THREADS"><code class="xref py py-data docutils literal notranslate"><span class="pre">RLIMIT_THREADS</span></code></a>,
<a class="reference internal" href="../library/resource.html#resource.RLIM_SAVED_CUR" title="resource.RLIM_SAVED_CUR"><code class="xref py py-data docutils literal notranslate"><span class="pre">RLIM_SAVED_CUR</span></code></a>, and <a class="reference internal" href="../library/resource.html#resource.RLIM_SAVED_MAX" title="resource.RLIM_SAVED_MAX"><code class="xref py py-data docutils literal notranslate"><span class="pre">RLIM_SAVED_MAX</span></code></a>.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/137512">gh-137512</a>.)</p></li>
</ul>
</section>
<section id="shelve">
<h3>shelve<a class="headerlink" href="#shelve" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added new <code class="xref py py-meth docutils literal notranslate"><span class="pre">reorganize()</span></code> method to <a class="reference internal" href="../library/shelve.html#module-shelve" title="shelve: Python object persistence."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shelve</span></code></a> used to recover unused free
space previously occupied by deleted entries.
(Contributed by Andrea Oliveri in <a class="reference external" href="https://github.com/python/cpython/issues/134004">gh-134004</a>.)</p></li>
</ul>
</section>
<section id="socket">
<h3>socket<a class="headerlink" href="#socket" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add constants for the ISO-TP CAN protocol.
(Contributed by Patrick Menschel and Stefan Tatschner in <a class="reference external" href="https://github.com/python/cpython/issues/86819">gh-86819</a>.)</p></li>
</ul>
</section>
<section id="sqlite3">
<h3>sqlite3<a class="headerlink" href="#sqlite3" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The <a class="reference internal" href="../library/sqlite3.html#sqlite3-cli"><span class="std std-ref">command-line interface</span></a> has several new features:</p>
<blockquote>
<div><ul class="simple">
<li><p>SQL keyword completion on &lt;tab&gt;.
(Contributed by Long Tan in <a class="reference external" href="https://github.com/python/cpython/issues/133393">gh-133393</a>.)</p></li>
<li><p>Prompts, error messages, and help text are now colored.
This is enabled by default, see <a class="reference internal" href="../using/cmdline.html#using-on-controlling-color"><span class="std std-ref">Controlling color</span></a> for
details.
(Contributed by Stan Ulbrych and Łukasz Langa in <a class="reference external" href="https://github.com/python/cpython/issues/133461">gh-133461</a>.)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="ssl">
<h3>ssl<a class="headerlink" href="#ssl" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Indicate through <a class="reference internal" href="../library/ssl.html#ssl.HAS_PSK_TLS13" title="ssl.HAS_PSK_TLS13"><code class="xref py py-data docutils literal notranslate"><span class="pre">ssl.HAS_PSK_TLS13</span></code></a> whether the <a class="reference internal" href="../library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a> module
supports &quot;External PSKs&quot; in TLSv1.3, as described in RFC 9258.
(Contributed by Will Childs-Klein in <a class="reference external" href="https://github.com/python/cpython/issues/133624">gh-133624</a>.)</p></li>
<li><p>Added new methods for managing groups used for SSL key agreement</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_groups" title="ssl.SSLContext.set_groups"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.set_groups()</span></code></a> sets the groups allowed for doing
key agreement, extending the previous
<a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_ecdh_curve" title="ssl.SSLContext.set_ecdh_curve"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.set_ecdh_curve()</span></code></a> method.
This new API provides the ability to list multiple groups and
supports fixed-field and post-quantum groups in addition to ECDH
curves. This method can also be used to control what key shares
are sent in the TLS handshake.</p></li>
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLSocket.group" title="ssl.SSLSocket.group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLSocket.group()</span></code></a> returns the group selected for doing key
agreement on the current connection after the TLS handshake completes.
This call requires OpenSSL 3.2 or later.</p></li>
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLContext.get_groups" title="ssl.SSLContext.get_groups"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.get_groups()</span></code></a> returns a list of all available key
agreement groups compatible with the minimum and maximum TLS versions
currently set in the context. This call requires OpenSSL 3.5 or later.</p></li>
</ul>
<p>(Contributed by Ron Frederick in <a class="reference external" href="https://github.com/python/cpython/issues/136306">gh-136306</a>.)</p>
</div></blockquote>
</li>
<li><p>Added a new method <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_ciphersuites" title="ssl.SSLContext.set_ciphersuites"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.set_ciphersuites()</span></code></a> for setting TLS 1.3
ciphers. For TLS 1.2 or earlier, <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_ciphers" title="ssl.SSLContext.set_ciphers"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.set_ciphers()</span></code></a> should
continue to be used. Both calls can be made on the same context and the
selected cipher suite will depend on the TLS version negotiated when a
connection is made.
(Contributed by Ron Frederick in <a class="reference external" href="https://github.com/python/cpython/issues/137197">gh-137197</a>.)</p></li>
<li><p>Added new methods for managing signature algorithms:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/ssl.html#ssl.get_sigalgs" title="ssl.get_sigalgs"><code class="xref py py-func docutils literal notranslate"><span class="pre">ssl.get_sigalgs()</span></code></a> returns a list of all available TLS signature
algorithms. This call requires OpenSSL 3.4 or later.</p></li>
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_client_sigalgs" title="ssl.SSLContext.set_client_sigalgs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.set_client_sigalgs()</span></code></a> sets the signature algorithms
allowed for certificate-based client authentication.</p></li>
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_server_sigalgs" title="ssl.SSLContext.set_server_sigalgs"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLContext.set_server_sigalgs()</span></code></a> sets the signature algorithms
allowed for the server to complete the TLS handshake.</p></li>
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLSocket.client_sigalg" title="ssl.SSLSocket.client_sigalg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLSocket.client_sigalg()</span></code></a> returns the signature algorithm
selected for client authentication on the current connection. This call
requires OpenSSL 3.5 or later.</p></li>
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLSocket.server_sigalg" title="ssl.SSLSocket.server_sigalg"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ssl.SSLSocket.server_sigalg()</span></code></a> returns the signature algorithm
selected for the server to complete the TLS handshake on the current
connection. This call requires OpenSSL 3.5 or later.</p></li>
</ul>
<blockquote>
<div><p>(Contributed by Ron Frederick in <a class="reference external" href="https://github.com/python/cpython/issues/138252">gh-138252</a>.)</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="sys">
<h3>sys<a class="headerlink" href="#sys" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add <a class="reference internal" href="../library/sys.html#sys.abi_info" title="sys.abi_info"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.abi_info</span></code></a> namespace to improve access to ABI information.
(Contributed by Klaus Zimmermann in <a class="reference external" href="https://github.com/python/cpython/issues/137476">gh-137476</a>.)</p></li>
</ul>
</section>
<section id="tarfile">
<h3>tarfile<a class="headerlink" href="#tarfile" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../library/tarfile.html#tarfile.data_filter" title="tarfile.data_filter"><code class="xref py py-func docutils literal notranslate"><span class="pre">data_filter()</span></code></a> now normalizes symbolic link targets in order to
avoid path traversal attacks.
(Contributed by Petr Viktorin in <a class="reference external" href="https://github.com/python/cpython/issues/127987">gh-127987</a> and <span class="target" id="index-4"></span><a class="cve reference external" href="https://www.cve.org/CVERecord?id=CVE-2025-4138"><strong>CVE 2025-4138</strong></a>.)</p></li>
<li><p><a class="reference internal" href="../library/tarfile.html#tarfile.TarFile.extractall" title="tarfile.TarFile.extractall"><code class="xref py py-func docutils literal notranslate"><span class="pre">extractall()</span></code></a> now skips fixing up directory attributes
when a directory was removed or replaced by another kind of file.
(Contributed by Petr Viktorin in <a class="reference external" href="https://github.com/python/cpython/issues/127987">gh-127987</a> and <span class="target" id="index-5"></span><a class="cve reference external" href="https://www.cve.org/CVERecord?id=CVE-2024-12718"><strong>CVE 2024-12718</strong></a>.)</p></li>
<li><p><a class="reference internal" href="../library/tarfile.html#tarfile.TarFile.extract" title="tarfile.TarFile.extract"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract()</span></code></a> and <a class="reference internal" href="../library/tarfile.html#tarfile.TarFile.extractall" title="tarfile.TarFile.extractall"><code class="xref py py-func docutils literal notranslate"><span class="pre">extractall()</span></code></a>
now (re-)apply the extraction filter when substituting a link (hard or
symbolic) with a copy of another archive member, and when fixing up
directory attributes.
The former raises a new exception, <a class="reference internal" href="../library/tarfile.html#tarfile.LinkFallbackError" title="tarfile.LinkFallbackError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">LinkFallbackError</span></code></a>.
(Contributed by Petr Viktorin for <span class="target" id="index-6"></span><a class="cve reference external" href="https://www.cve.org/CVERecord?id=CVE-2025-4330"><strong>CVE 2025-4330</strong></a> and <span class="target" id="index-7"></span><a class="cve reference external" href="https://www.cve.org/CVERecord?id=CVE-2024-12718"><strong>CVE 2024-12718</strong></a>.)</p></li>
<li><p><a class="reference internal" href="../library/tarfile.html#tarfile.TarFile.extract" title="tarfile.TarFile.extract"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract()</span></code></a> and <a class="reference internal" href="../library/tarfile.html#tarfile.TarFile.extractall" title="tarfile.TarFile.extractall"><code class="xref py py-func docutils literal notranslate"><span class="pre">extractall()</span></code></a>
no longer extract rejected members when
<a class="reference internal" href="../library/tarfile.html#tarfile.TarFile.errorlevel" title="tarfile.TarFile.errorlevel"><code class="xref py py-func docutils literal notranslate"><span class="pre">errorlevel()</span></code></a> is zero.
(Contributed by Matt Prodani and Petr Viktorin in <a class="reference external" href="https://github.com/python/cpython/issues/112887">gh-112887</a>
and <span class="target" id="index-8"></span><a class="cve reference external" href="https://www.cve.org/CVERecord?id=CVE-2025-4435"><strong>CVE 2025-4435</strong></a>.)</p></li>
<li><p><a class="reference internal" href="../library/tarfile.html#tarfile.TarFile.extract" title="tarfile.TarFile.extract"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract()</span></code></a> and <a class="reference internal" href="../library/tarfile.html#tarfile.TarFile.extractall" title="tarfile.TarFile.extractall"><code class="xref py py-func docutils literal notranslate"><span class="pre">extractall()</span></code></a>
now replace slashes by backslashes in symlink targets on Windows to prevent
creation of corrupted links.
(Contributed by Christoph Walcher in <a class="reference external" href="https://github.com/python/cpython/issues/57911">gh-57911</a>.)</p></li>
</ul>
</section>
<section id="timeit">
<h3>timeit<a class="headerlink" href="#timeit" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The command-line interface now colorizes error tracebacks
by default. This can be controlled with
<a class="reference internal" href="../using/cmdline.html#using-on-controlling-color"><span class="std std-ref">environment variables</span></a>.
(Contributed by Yi Hong in <a class="reference external" href="https://github.com/python/cpython/issues/139374">gh-139374</a>.)</p></li>
</ul>
</section>
<section id="types">
<h3>types<a class="headerlink" href="#types" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Expose the write-through <a class="reference internal" href="../library/functions.html#locals" title="locals"><code class="xref py py-func docutils literal notranslate"><span class="pre">locals()</span></code></a> proxy type
as <a class="reference internal" href="../library/types.html#types.FrameLocalsProxyType" title="types.FrameLocalsProxyType"><code class="xref py py-data docutils literal notranslate"><span class="pre">types.FrameLocalsProxyType</span></code></a>.
This represents the type of the <a class="reference internal" href="../reference/datamodel.html#frame.f_locals" title="frame.f_locals"><code class="xref py py-attr docutils literal notranslate"><span class="pre">frame.f_locals</span></code></a> attribute,
as described in <span class="target" id="index-9"></span><a class="pep reference external" href="https://peps.python.org/pep-0667/"><strong>PEP 667</strong></a>.</p></li>
</ul>
</section>
<section id="unittest">
<h3>unittest<a class="headerlink" href="#unittest" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="../library/unittest.html#unittest.TestCase.assertLogs" title="unittest.TestCase.assertLogs"><code class="xref py py-func docutils literal notranslate"><span class="pre">unittest.TestCase.assertLogs()</span></code></a> will now accept a formatter
to control how messages are formatted.
(Contributed by Garry Cairns in <a class="reference external" href="https://github.com/python/cpython/issues/134567">gh-134567</a>.)</p></li>
</ul>
</section>
<section id="xml-parsers-expat">
<h3>xml.parsers.expat<a class="headerlink" href="#xml-parsers-expat" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add <a class="reference internal" href="../library/pyexpat.html#xml.parsers.expat.xmlparser.SetAllocTrackerActivationThreshold" title="xml.parsers.expat.xmlparser.SetAllocTrackerActivationThreshold"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetAllocTrackerActivationThreshold()</span></code></a>
and <a class="reference internal" href="../library/pyexpat.html#xml.parsers.expat.xmlparser.SetAllocTrackerMaximumAmplification" title="xml.parsers.expat.xmlparser.SetAllocTrackerMaximumAmplification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetAllocTrackerMaximumAmplification()</span></code></a>
to <a class="reference internal" href="../library/pyexpat.html#xmlparser-objects"><span class="std std-ref">xmlparser</span></a> objects to tune protections against
disproportional amounts of dynamic memory usage from within an Expat parser.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/90949">gh-90949</a>.)</p></li>
<li><p>Add <a class="reference internal" href="../library/pyexpat.html#xml.parsers.expat.xmlparser.SetBillionLaughsAttackProtectionActivationThreshold" title="xml.parsers.expat.xmlparser.SetBillionLaughsAttackProtectionActivationThreshold"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetBillionLaughsAttackProtectionActivationThreshold()</span></code></a>
and <a class="reference internal" href="../library/pyexpat.html#xml.parsers.expat.xmlparser.SetBillionLaughsAttackProtectionMaximumAmplification" title="xml.parsers.expat.xmlparser.SetBillionLaughsAttackProtectionMaximumAmplification"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SetBillionLaughsAttackProtectionMaximumAmplification()</span></code></a>
to <a class="reference internal" href="../library/pyexpat.html#xmlparser-objects"><span class="std std-ref">xmlparser</span></a> objects to tune protections against
<a class="reference external" href="https://en.wikipedia.org/wiki/Billion_laughs_attack">billion laughs</a> attacks.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/90949">gh-90949</a>.)</p>
</li>
</ul>
</section>
<section id="zlib">
<h3>zlib<a class="headerlink" href="#zlib" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Allow combining two Adler-32 checksums via <a class="reference internal" href="../library/zlib.html#zlib.adler32_combine" title="zlib.adler32_combine"><code class="xref py py-func docutils literal notranslate"><span class="pre">adler32_combine()</span></code></a>.
(Contributed by Callum Attryde and Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/134635">gh-134635</a>.)</p></li>
<li><p>Allow combining two CRC-32 checksums via <a class="reference internal" href="../library/zlib.html#zlib.crc32_combine" title="zlib.crc32_combine"><code class="xref py py-func docutils literal notranslate"><span class="pre">crc32_combine()</span></code></a>.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/134635">gh-134635</a>.)</p></li>
</ul>
</section>
</section>
<section id="optimizations">
<h2>Optimizations<a class="headerlink" href="#optimizations" title="Link to this heading">¶</a></h2>
<section id="module-name">
<h3>module_name<a class="headerlink" href="#module-name" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>TODO</p></li>
</ul>
</section>
</section>
<section id="deprecated">
<h2>Deprecated<a class="headerlink" href="#deprecated" title="Link to this heading">¶</a></h2>
<section id="cli">
<h3>CLI<a class="headerlink" href="#cli" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Deprecate <a class="reference internal" href="../using/cmdline.html#cmdoption-b"><code class="xref std std-option docutils literal notranslate"><span class="pre">-b</span></code></a> and <code class="xref std std-option docutils literal notranslate"><span class="pre">-bb</span></code> command line options
and schedule them to become no-op in Python 3.17.
These were primarily helpers for the Python 2 -&gt; 3 transition.
Starting with Python 3.17, no <a class="reference internal" href="../library/exceptions.html#BytesWarning" title="BytesWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BytesWarning</span></code></a> will be raised
for these cases; use a type checker instead.</p>
<p>(Contributed by Nikita Sobolev in <a class="reference external" href="https://github.com/python/cpython/issues/136355">gh-136355</a>.)</p>
</li>
</ul>
</section>
<section id="id1">
<h3>hashlib<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<ul>
<li><p>In hash function constructors such as <a class="reference internal" href="../library/hashlib.html#hashlib.new" title="hashlib.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">new()</span></code></a> or the
direct hash-named constructors such as <a class="reference internal" href="../library/hashlib.html#hashlib.md5" title="hashlib.md5"><code class="xref py py-func docutils literal notranslate"><span class="pre">md5()</span></code></a> and
<a class="reference internal" href="../library/hashlib.html#hashlib.sha256" title="hashlib.sha256"><code class="xref py py-func docutils literal notranslate"><span class="pre">sha256()</span></code></a>, their optional initial data parameter could
also be passed a keyword argument named <code class="docutils literal notranslate"><span class="pre">data=</span></code> or <code class="docutils literal notranslate"><span class="pre">string=</span></code> in
various <a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a> implementations.</p>
<p>Support for the <code class="docutils literal notranslate"><span class="pre">string</span></code> keyword argument name is now deprecated and
is slated for removal in Python 3.19. Prefer passing the initial data as
a positional argument for maximum backwards compatibility.</p>
<p>(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/134978">gh-134978</a>.)</p>
</li>
</ul>
</section>
<section id="version">
<h3>__version__<a class="headerlink" href="#version" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">__version__</span></code> attribute has been deprecated in these standard library
modules and will be removed in Python 3.20.
Use <a class="reference internal" href="../library/sys.html#sys.version_info" title="sys.version_info"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.version_info</span></code></a> instead.</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/csv.html#module-csv" title="csv: Write and read tabular data to and from delimited files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">csv</span></code></a></p></li>
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes.macholib</span></code></p></li>
<li><p><a class="reference internal" href="../library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/json.html#module-json" title="json: Encode and decode the JSON format."><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> (<code class="docutils literal notranslate"><span class="pre">__date__</span></code> also deprecated)</p></li>
<li><p><a class="reference internal" href="../library/optparse.html#module-optparse" title="optparse: Command-line option parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/platform.html#module-platform" title="platform: Retrieves as much platform identifying data as possible."><code class="xref py py-mod docutils literal notranslate"><span class="pre">platform</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/socketserver.html#module-socketserver" title="socketserver: A framework for network servers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socketserver</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/tabnanny.html#module-tabnanny" title="tabnanny: Tool for detecting white space related problems in Python source files in a directory tree."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tabnanny</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/tkinter.font.html#module-tkinter.font" title="tkinter.font: Tkinter font-wrapping class (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.font</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/tkinter.ttk.html#module-tkinter.ttk" title="tkinter.ttk: Tk themed widget set"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.ttk</span></code></a></p></li>
</ul>
<p>(Contributed by Hugo van Kemenade in <a class="reference external" href="https://github.com/python/cpython/issues/76007">gh-76007</a>.)</p>
</li>
</ul>
</section>
<section id="pending-removal-in-python-3-16">
<h3>Pending removal in Python 3.16<a class="headerlink" href="#pending-removal-in-python-3-16" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The import system:</p>
<ul class="simple">
<li><p>Setting <a class="reference internal" href="../reference/datamodel.html#module.__loader__" title="module.__loader__"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__loader__</span></code></a> on a module while
failing to set <a class="reference internal" href="../library/importlib.html#importlib.machinery.ModuleSpec.loader" title="importlib.machinery.ModuleSpec.loader"><code class="xref py py-attr docutils literal notranslate"><span class="pre">__spec__.loader</span></code></a>
is deprecated. In Python 3.16, <code class="xref py py-attr docutils literal notranslate"><span class="pre">__loader__</span></code> will cease to be set or
taken into consideration by the import system or the standard library.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values."><code class="xref py py-mod docutils literal notranslate"><span class="pre">array</span></code></a>:</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">'u'</span></code> format code (<code class="xref c c-type docutils literal notranslate"><span class="pre">wchar_t</span></code>)
has been deprecated in documentation since Python 3.3
and at runtime since Python 3.13.
Use the <code class="docutils literal notranslate"><span class="pre">'w'</span></code> format code (<a class="reference internal" href="../c-api/unicode.html#c.Py_UCS4" title="Py_UCS4"><code class="xref c c-type docutils literal notranslate"><span class="pre">Py_UCS4</span></code></a>)
for Unicode characters instead.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a>:</p>
<ul>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.iscoroutinefunction()</span></code> is deprecated
and will be removed in Python 3.16;
use <a class="reference internal" href="../library/inspect.html#inspect.iscoroutinefunction" title="inspect.iscoroutinefunction"><code class="xref py py-func docutils literal notranslate"><span class="pre">inspect.iscoroutinefunction()</span></code></a> instead.
(Contributed by Jiahao Li and Kumar Aditya in <a class="reference external" href="https://github.com/python/cpython/issues/122875">gh-122875</a>.)</p></li>
<li><p><a class="reference internal" href="../library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a> policy system is deprecated and will be removed in Python 3.16.
In particular, the following classes and functions are deprecated:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/asyncio-policy.html#asyncio.AbstractEventLoopPolicy" title="asyncio.AbstractEventLoopPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.AbstractEventLoopPolicy</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/asyncio-policy.html#asyncio.DefaultEventLoopPolicy" title="asyncio.DefaultEventLoopPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.DefaultEventLoopPolicy</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/asyncio-policy.html#asyncio.WindowsSelectorEventLoopPolicy" title="asyncio.WindowsSelectorEventLoopPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.WindowsSelectorEventLoopPolicy</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/asyncio-policy.html#asyncio.WindowsProactorEventLoopPolicy" title="asyncio.WindowsProactorEventLoopPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.WindowsProactorEventLoopPolicy</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/asyncio-policy.html#asyncio.get_event_loop_policy" title="asyncio.get_event_loop_policy"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.get_event_loop_policy()</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/asyncio-policy.html#asyncio.set_event_loop_policy" title="asyncio.set_event_loop_policy"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.set_event_loop_policy()</span></code></a></p></li>
</ul>
<p>Users should use <a class="reference internal" href="../library/asyncio-runner.html#asyncio.run" title="asyncio.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">asyncio.run()</span></code></a> or <a class="reference internal" href="../library/asyncio-runner.html#asyncio.Runner" title="asyncio.Runner"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.Runner</span></code></a> with
<em>loop_factory</em> to use the desired event loop implementation.</p>
<p>For example, to use <a class="reference internal" href="../library/asyncio-eventloop.html#asyncio.SelectorEventLoop" title="asyncio.SelectorEventLoop"><code class="xref py py-class docutils literal notranslate"><span class="pre">asyncio.SelectorEventLoop</span></code></a> on Windows:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
    <span class="o">...</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">(),</span> <span class="n">loop_factory</span><span class="o">=</span><span class="n">asyncio</span><span class="o">.</span><span class="n">SelectorEventLoop</span><span class="p">)</span>
</pre></div>
</div>
<p>(Contributed by Kumar Aditya in <a class="reference external" href="https://github.com/python/cpython/issues/127949">gh-127949</a>.)</p>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal notranslate"><span class="pre">builtins</span></code></a>:</p>
<ul class="simple">
<li><p>Bitwise inversion on boolean types, <code class="docutils literal notranslate"><span class="pre">~True</span></code> or <code class="docutils literal notranslate"><span class="pre">~False</span></code>
has been deprecated since Python 3.12,
as it produces surprising and unintuitive results (<code class="docutils literal notranslate"><span class="pre">-2</span></code> and <code class="docutils literal notranslate"><span class="pre">-1</span></code>).
Use <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">x</span></code> instead for the logical negation of a Boolean.
In the rare case that you need the bitwise inversion of
the underlying integer, convert to <code class="docutils literal notranslate"><span class="pre">int</span></code> explicitly (<code class="docutils literal notranslate"><span class="pre">~int(x)</span></code>).</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/functools.html#module-functools" title="functools: Higher-order functions and operations on callable objects."><code class="xref py py-mod docutils literal notranslate"><span class="pre">functools</span></code></a>:</p>
<ul class="simple">
<li><p>Calling the Python implementation of <a class="reference internal" href="../library/functools.html#functools.reduce" title="functools.reduce"><code class="xref py py-func docutils literal notranslate"><span class="pre">functools.reduce()</span></code></a> with <em>function</em>
or <em>sequence</em> as keyword arguments has been deprecated since Python 3.14.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>:</p>
<p>Support for custom logging handlers with the <em>strm</em> argument is deprecated
and scheduled for removal in Python 3.16. Define handlers with the <em>stream</em>
argument instead. (Contributed by Mariusz Felisiak in <a class="reference external" href="https://github.com/python/cpython/issues/115032">gh-115032</a>.)</p>
</li>
<li><p><a class="reference internal" href="../library/mimetypes.html#module-mimetypes" title="mimetypes: Mapping of filename extensions to MIME types."><code class="xref py py-mod docutils literal notranslate"><span class="pre">mimetypes</span></code></a>:</p>
<ul class="simple">
<li><p>Valid extensions start with a '.' or are empty for
<a class="reference internal" href="../library/mimetypes.html#mimetypes.MimeTypes.add_type" title="mimetypes.MimeTypes.add_type"><code class="xref py py-meth docutils literal notranslate"><span class="pre">mimetypes.MimeTypes.add_type()</span></code></a>.
Undotted extensions are deprecated and will
raise a <a class="reference internal" href="../library/exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> in Python 3.16.
(Contributed by Hugo van Kemenade in <a class="reference external" href="https://github.com/python/cpython/issues/75223">gh-75223</a>.)</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/shutil.html#module-shutil" title="shutil: High-level file operations, including copying."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shutil</span></code></a>:</p>
<ul class="simple">
<li><p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">ExecError</span></code> exception
has been deprecated since Python 3.14.
It has not been used by any function in <code class="xref py py-mod docutils literal notranslate"><span class="pre">shutil</span></code> since Python 3.4,
and is now an alias of <a class="reference internal" href="../library/exceptions.html#RuntimeError" title="RuntimeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a>.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/symtable.html#module-symtable" title="symtable: Interface to the compiler's internal symbol tables."><code class="xref py py-mod docutils literal notranslate"><span class="pre">symtable</span></code></a>:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../library/symtable.html#symtable.Class.get_methods" title="symtable.Class.get_methods"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Class.get_methods</span></code></a> method
has been deprecated since Python 3.14.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code class="xref py py-mod docutils literal notranslate"><span class="pre">sys</span></code></a>:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../library/sys.html#sys._enablelegacywindowsfsencoding" title="sys._enablelegacywindowsfsencoding"><code class="xref py py-func docutils literal notranslate"><span class="pre">_enablelegacywindowsfsencoding()</span></code></a> function
has been deprecated since Python 3.13.
Use the <span class="target" id="index-10"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONLEGACYWINDOWSFSENCODING"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONLEGACYWINDOWSFSENCODING</span></code></a> environment variable instead.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/sysconfig.html#module-sysconfig" title="sysconfig: Python's configuration information"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sysconfig</span></code></a>:</p>
<ul class="simple">
<li><p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">sysconfig.expand_makefile_vars()</span></code> function
has been deprecated since Python 3.14.
Use the <code class="docutils literal notranslate"><span class="pre">vars</span></code> argument of <a class="reference internal" href="../library/sysconfig.html#sysconfig.get_paths" title="sysconfig.get_paths"><code class="xref py py-func docutils literal notranslate"><span class="pre">sysconfig.get_paths()</span></code></a> instead.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tarfile</span></code></a>:</p>
<ul class="simple">
<li><p>The undocumented and unused <code class="xref py py-attr docutils literal notranslate"><span class="pre">TarFile.tarfile</span></code> attribute
has been deprecated since Python 3.13.</p></li>
</ul>
</li>
</ul>
</section>
<section id="pending-removal-in-python-3-17">
<h3>Pending removal in Python 3.17<a class="headerlink" href="#pending-removal-in-python-3-17" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a class="reference internal" href="../library/collections.abc.html#module-collections.abc" title="collections.abc: Abstract base classes for containers"><code class="xref py py-mod docutils literal notranslate"><span class="pre">collections.abc</span></code></a>:</p>
<ul>
<li><p><a class="reference internal" href="../library/collections.abc.html#collections.abc.ByteString" title="collections.abc.ByteString"><code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.ByteString</span></code></a> is scheduled for removal in Python 3.17.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">isinstance(obj,</span> <span class="pre">collections.abc.Buffer)</span></code> to test if <code class="docutils literal notranslate"><span class="pre">obj</span></code>
implements the <a class="reference internal" href="../c-api/buffer.html#bufferobjects"><span class="std std-ref">buffer protocol</span></a> at runtime. For use
in type annotations, either use <a class="reference internal" href="../library/collections.abc.html#collections.abc.Buffer" title="collections.abc.Buffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Buffer</span></code></a> or a union
that explicitly specifies the types your code supports (e.g.,
<code class="docutils literal notranslate"><span class="pre">bytes</span> <span class="pre">|</span> <span class="pre">bytearray</span> <span class="pre">|</span> <span class="pre">memoryview</span></code>).</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">ByteString</span></code> was originally intended to be an abstract class that
would serve as a supertype of both <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> and <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a>.
However, since the ABC never had any methods, knowing that an object was an
instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">ByteString</span></code> never actually told you anything useful
about the object. Other common buffer types such as <a class="reference internal" href="../library/stdtypes.html#memoryview" title="memoryview"><code class="xref py py-class docutils literal notranslate"><span class="pre">memoryview</span></code></a>
were also never understood as subtypes of <code class="xref py py-class docutils literal notranslate"><span class="pre">ByteString</span></code> (either at
runtime or by static type checkers).</p>
<p>See <span class="target" id="index-11"></span><a class="pep reference external" href="https://peps.python.org/pep-0688/#current-options"><strong>PEP 688</strong></a> for more details.
(Contributed by Shantanu Jain in <a class="reference external" href="https://github.com/python/cpython/issues/91896">gh-91896</a>.)</p>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code></a>:</p>
<ul>
<li><p>Before Python 3.14, old-style unions were implemented using the private class
<code class="docutils literal notranslate"><span class="pre">typing._UnionGenericAlias</span></code>. This class is no longer needed for the implementation,
but it has been retained for backward compatibility, with removal scheduled for Python
3.17. Users should use documented introspection helpers like <a class="reference internal" href="../library/typing.html#typing.get_origin" title="typing.get_origin"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_origin()</span></code></a>
and <a class="reference internal" href="../library/typing.html#typing.get_args" title="typing.get_args"><code class="xref py py-func docutils literal notranslate"><span class="pre">typing.get_args()</span></code></a> instead of relying on private implementation details.</p></li>
<li><p><a class="reference internal" href="../library/typing.html#typing.ByteString" title="typing.ByteString"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.ByteString</span></code></a>, deprecated since Python 3.9, is scheduled for removal in
Python 3.17.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">isinstance(obj,</span> <span class="pre">collections.abc.Buffer)</span></code> to test if <code class="docutils literal notranslate"><span class="pre">obj</span></code>
implements the <a class="reference internal" href="../c-api/buffer.html#bufferobjects"><span class="std std-ref">buffer protocol</span></a> at runtime. For use
in type annotations, either use <a class="reference internal" href="../library/collections.abc.html#collections.abc.Buffer" title="collections.abc.Buffer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Buffer</span></code></a> or a union
that explicitly specifies the types your code supports (e.g.,
<code class="docutils literal notranslate"><span class="pre">bytes</span> <span class="pre">|</span> <span class="pre">bytearray</span> <span class="pre">|</span> <span class="pre">memoryview</span></code>).</p>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">ByteString</span></code> was originally intended to be an abstract class that
would serve as a supertype of both <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> and <a class="reference internal" href="../library/stdtypes.html#bytearray" title="bytearray"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytearray</span></code></a>.
However, since the ABC never had any methods, knowing that an object was an
instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">ByteString</span></code> never actually told you anything useful
about the object. Other common buffer types such as <a class="reference internal" href="../library/stdtypes.html#memoryview" title="memoryview"><code class="xref py py-class docutils literal notranslate"><span class="pre">memoryview</span></code></a>
were also never understood as subtypes of <code class="xref py py-class docutils literal notranslate"><span class="pre">ByteString</span></code> (either at
runtime or by static type checkers).</p>
<p>See <span class="target" id="index-12"></span><a class="pep reference external" href="https://peps.python.org/pep-0688/#current-options"><strong>PEP 688</strong></a> for more details.
(Contributed by Shantanu Jain in <a class="reference external" href="https://github.com/python/cpython/issues/91896">gh-91896</a>.)</p>
</li>
</ul>
</li>
</ul>
</section>
<section id="pending-removal-in-python-3-19">
<h3>Pending removal in Python 3.19<a class="headerlink" href="#pending-removal-in-python-3-19" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a class="reference internal" href="../library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes</span></code></a>:</p>
<ul class="simple">
<li><p>Implicitly switching to the MSVC-compatible struct layout by setting
<a class="reference internal" href="../library/ctypes.html#ctypes.Structure._pack_" title="ctypes.Structure._pack_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_pack_</span></code></a> but not <a class="reference internal" href="../library/ctypes.html#ctypes.Structure._layout_" title="ctypes.Structure._layout_"><code class="xref py py-attr docutils literal notranslate"><span class="pre">_layout_</span></code></a>
on non-Windows platforms.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code></a>:</p>
<ul>
<li><p>In hash function constructors such as <a class="reference internal" href="../library/hashlib.html#hashlib.new" title="hashlib.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">new()</span></code></a> or the
direct hash-named constructors such as <a class="reference internal" href="../library/hashlib.html#hashlib.md5" title="hashlib.md5"><code class="xref py py-func docutils literal notranslate"><span class="pre">md5()</span></code></a> and
<a class="reference internal" href="../library/hashlib.html#hashlib.sha256" title="hashlib.sha256"><code class="xref py py-func docutils literal notranslate"><span class="pre">sha256()</span></code></a>, their optional initial data parameter could
also be passed a keyword argument named <code class="docutils literal notranslate"><span class="pre">data=</span></code> or <code class="docutils literal notranslate"><span class="pre">string=</span></code> in
various <code class="xref py py-mod docutils literal notranslate"><span class="pre">hashlib</span></code> implementations.</p>
<p>Support for the <code class="docutils literal notranslate"><span class="pre">string</span></code> keyword argument name is now deprecated
and slated for removal in Python 3.19.</p>
<p>Before Python 3.13, the <code class="docutils literal notranslate"><span class="pre">string</span></code> keyword parameter was not correctly
supported depending on the backend implementation of hash functions.
Prefer passing the initial data as a positional argument for maximum
backwards compatibility.</p>
</li>
</ul>
</li>
</ul>
</section>
<section id="pending-removal-in-python-3-20">
<h3>Pending removal in Python 3.20<a class="headerlink" href="#pending-removal-in-python-3-20" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">__version__</span></code> attribute has been deprecated in these standard library
modules and will be removed in Python 3.20.
Use <a class="reference internal" href="../library/sys.html#sys.version_info" title="sys.version_info"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.version_info</span></code></a> instead.</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/csv.html#module-csv" title="csv: Write and read tabular data to and from delimited files."><code class="xref py py-mod docutils literal notranslate"><span class="pre">csv</span></code></a></p></li>
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">ctypes.macholib</span></code></p></li>
<li><p><a class="reference internal" href="../library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">ipaddress</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/json.html#module-json" title="json: Encode and decode the JSON format."><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a> (<code class="docutils literal notranslate"><span class="pre">__date__</span></code> also deprecated)</p></li>
<li><p><a class="reference internal" href="../library/optparse.html#module-optparse" title="optparse: Command-line option parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">optparse</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code class="xref py py-mod docutils literal notranslate"><span class="pre">pickle</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/platform.html#module-platform" title="platform: Retrieves as much platform identifying data as possible."><code class="xref py py-mod docutils literal notranslate"><span class="pre">platform</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/socketserver.html#module-socketserver" title="socketserver: A framework for network servers."><code class="xref py py-mod docutils literal notranslate"><span class="pre">socketserver</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/tabnanny.html#module-tabnanny" title="tabnanny: Tool for detecting white space related problems in Python source files in a directory tree."><code class="xref py py-mod docutils literal notranslate"><span class="pre">tabnanny</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/tkinter.font.html#module-tkinter.font" title="tkinter.font: Tkinter font-wrapping class (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.font</span></code></a></p></li>
<li><p><a class="reference internal" href="../library/tkinter.ttk.html#module-tkinter.ttk" title="tkinter.ttk: Tk themed widget set"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.ttk</span></code></a></p></li>
</ul>
<p>(Contributed by Hugo van Kemenade in <a class="reference external" href="https://github.com/python/cpython/issues/76007">gh-76007</a>.)</p>
</li>
</ul>
</section>
<section id="pending-removal-in-future-versions">
<h3>Pending removal in future versions<a class="headerlink" href="#pending-removal-in-future-versions" title="Link to this heading">¶</a></h3>
<p>The following APIs will be removed in the future,
although there is currently no date scheduled for their removal.</p>
<ul class="simple">
<li><p><a class="reference internal" href="../library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code class="xref py py-mod docutils literal notranslate"><span class="pre">argparse</span></code></a>:</p>
<ul>
<li><p>Nesting argument groups and nesting mutually exclusive
groups are deprecated.</p></li>
<li><p>Passing the undocumented keyword argument <em>prefix_chars</em> to
<a class="reference internal" href="../library/argparse.html#argparse.ArgumentParser.add_argument_group" title="argparse.ArgumentParser.add_argument_group"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_argument_group()</span></code></a> is now
deprecated.</p></li>
<li><p>The <a class="reference internal" href="../library/argparse.html#argparse.FileType" title="argparse.FileType"><code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.FileType</span></code></a> type converter is deprecated.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal notranslate"><span class="pre">builtins</span></code></a>:</p>
<ul>
<li><p>Generators: <code class="docutils literal notranslate"><span class="pre">throw(type,</span> <span class="pre">exc,</span> <span class="pre">tb)</span></code> and <code class="docutils literal notranslate"><span class="pre">athrow(type,</span> <span class="pre">exc,</span> <span class="pre">tb)</span></code>
signature is deprecated: use <code class="docutils literal notranslate"><span class="pre">throw(exc)</span></code> and <code class="docutils literal notranslate"><span class="pre">athrow(exc)</span></code> instead,
the single argument signature.</p></li>
<li><p>Currently Python accepts numeric literals immediately followed by keywords,
for example <code class="docutils literal notranslate"><span class="pre">0in</span> <span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">1or</span> <span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">0if</span> <span class="pre">1else</span> <span class="pre">2</span></code>.  It allows confusing and
ambiguous expressions like <code class="docutils literal notranslate"><span class="pre">[0x1for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">y]</span></code> (which can be interpreted as
<code class="docutils literal notranslate"><span class="pre">[0x1</span> <span class="pre">for</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">y]</span></code> or <code class="docutils literal notranslate"><span class="pre">[0x1f</span> <span class="pre">or</span> <span class="pre">x</span> <span class="pre">in</span> <span class="pre">y]</span></code>).  A syntax warning is raised
if the numeric literal is immediately followed by one of keywords
<a class="reference internal" href="../reference/expressions.html#and"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">and</span></code></a>, <a class="reference internal" href="../reference/compound_stmts.html#else"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">else</span></code></a>, <a class="reference internal" href="../reference/compound_stmts.html#for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">for</span></code></a>, <a class="reference internal" href="../reference/compound_stmts.html#if"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">if</span></code></a>,
<a class="reference internal" href="../reference/expressions.html#in"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">in</span></code></a>, <a class="reference internal" href="../reference/expressions.html#is"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">is</span></code></a> and <a class="reference internal" href="../reference/expressions.html#or"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">or</span></code></a>.  In a future release it
will be changed to a syntax error. (<a class="reference external" href="https://github.com/python/cpython/issues/87999">gh-87999</a>)</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">__index__()</span></code> and <code class="docutils literal notranslate"><span class="pre">__int__()</span></code> method returning non-int type:
these methods will be required to return an instance of a strict subclass of
<a class="reference internal" href="../library/functions.html#int" title="int"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>.</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">__float__()</span></code> method returning a strict subclass of
<a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>: these methods will be required to return an instance of
<a class="reference internal" href="../library/functions.html#float" title="float"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>.</p></li>
<li><p>Support for <code class="docutils literal notranslate"><span class="pre">__complex__()</span></code> method returning a strict subclass of
<a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a>: these methods will be required to return an instance of
<a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-class docutils literal notranslate"><span class="pre">complex</span></code></a>.</p></li>
<li><p>Delegation of <code class="docutils literal notranslate"><span class="pre">int()</span></code> to <code class="docutils literal notranslate"><span class="pre">__trunc__()</span></code> method.</p></li>
<li><p>Passing a complex number as the <em>real</em> or <em>imag</em> argument in the
<a class="reference internal" href="../library/functions.html#complex" title="complex"><code class="xref py py-func docutils literal notranslate"><span class="pre">complex()</span></code></a> constructor is now deprecated; it should only be passed
as a single positional argument.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/109218">gh-109218</a>.)</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/calendar.html#module-calendar" title="calendar: Functions for working with calendars, including some emulation of the Unix cal program."><code class="xref py py-mod docutils literal notranslate"><span class="pre">calendar</span></code></a>: <code class="docutils literal notranslate"><span class="pre">calendar.January</span></code> and <code class="docutils literal notranslate"><span class="pre">calendar.February</span></code> constants are
deprecated and replaced by <a class="reference internal" href="../library/calendar.html#calendar.JANUARY" title="calendar.JANUARY"><code class="xref py py-data docutils literal notranslate"><span class="pre">calendar.JANUARY</span></code></a> and
<a class="reference internal" href="../library/calendar.html#calendar.FEBRUARY" title="calendar.FEBRUARY"><code class="xref py py-data docutils literal notranslate"><span class="pre">calendar.FEBRUARY</span></code></a>.
(Contributed by Prince Roshan in <a class="reference external" href="https://github.com/python/cpython/issues/103636">gh-103636</a>.)</p></li>
<li><p><a class="reference internal" href="../library/codecs.html#module-codecs" title="codecs: Encode and decode data and streams."><code class="xref py py-mod docutils literal notranslate"><span class="pre">codecs</span></code></a>: use <a class="reference internal" href="../library/functions.html#open" title="open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a> instead of <a class="reference internal" href="../library/codecs.html#codecs.open" title="codecs.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">codecs.open()</span></code></a>. (<a class="reference external" href="https://github.com/python/cpython/issues/133038">gh-133038</a>)</p></li>
<li><p><a class="reference internal" href="../reference/datamodel.html#codeobject.co_lnotab" title="codeobject.co_lnotab"><code class="xref py py-attr docutils literal notranslate"><span class="pre">codeobject.co_lnotab</span></code></a>: use the <a class="reference internal" href="../reference/datamodel.html#codeobject.co_lines" title="codeobject.co_lines"><code class="xref py py-meth docutils literal notranslate"><span class="pre">codeobject.co_lines()</span></code></a> method
instead.</p></li>
<li><p><a class="reference internal" href="../library/datetime.html#module-datetime" title="datetime: Basic date and time types."><code class="xref py py-mod docutils literal notranslate"><span class="pre">datetime</span></code></a>:</p>
<ul>
<li><p><a class="reference internal" href="../library/datetime.html#datetime.datetime.utcnow" title="datetime.datetime.utcnow"><code class="xref py py-meth docutils literal notranslate"><span class="pre">utcnow()</span></code></a>:
use <code class="docutils literal notranslate"><span class="pre">datetime.datetime.now(tz=datetime.UTC)</span></code>.</p></li>
<li><p><a class="reference internal" href="../library/datetime.html#datetime.datetime.utcfromtimestamp" title="datetime.datetime.utcfromtimestamp"><code class="xref py py-meth docutils literal notranslate"><span class="pre">utcfromtimestamp()</span></code></a>:
use <code class="docutils literal notranslate"><span class="pre">datetime.datetime.fromtimestamp(timestamp,</span> <span class="pre">tz=datetime.UTC)</span></code>.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/gettext.html#module-gettext" title="gettext: Multilingual internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code></a>: Plural value must be an integer.</p></li>
<li><p><a class="reference internal" href="../library/importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib</span></code></a>:</p>
<ul>
<li><p><a class="reference internal" href="../library/importlib.html#importlib.util.cache_from_source" title="importlib.util.cache_from_source"><code class="xref py py-func docutils literal notranslate"><span class="pre">cache_from_source()</span></code></a> <em>debug_override</em> parameter is
deprecated: use the <em>optimization</em> parameter instead.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/importlib.metadata.html#module-importlib.metadata" title="importlib.metadata: Accessing package metadata"><code class="xref py py-mod docutils literal notranslate"><span class="pre">importlib.metadata</span></code></a>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">EntryPoints</span></code> tuple interface.</p></li>
<li><p>Implicit <code class="docutils literal notranslate"><span class="pre">None</span></code> on return values.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging</span></code></a>: the <code class="docutils literal notranslate"><span class="pre">warn()</span></code> method has been deprecated
since Python 3.3, use <a class="reference internal" href="../library/logging.html#logging.warning" title="logging.warning"><code class="xref py py-meth docutils literal notranslate"><span class="pre">warning()</span></code></a> instead.</p></li>
<li><p><a class="reference internal" href="../library/mailbox.html#module-mailbox" title="mailbox: Manipulate mailboxes in various formats"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mailbox</span></code></a>: Use of StringIO input and text mode is deprecated, use
BytesIO and binary mode instead.</p></li>
<li><p><a class="reference internal" href="../library/os.html#module-os" title="os: Miscellaneous operating system interfaces."><code class="xref py py-mod docutils literal notranslate"><span class="pre">os</span></code></a>: Calling <a class="reference internal" href="../library/os.html#os.register_at_fork" title="os.register_at_fork"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.register_at_fork()</span></code></a> in multi-threaded process.</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">pydoc.ErrorDuringImport</span></code>: A tuple value for <em>exc_info</em> parameter is
deprecated, use an exception instance.</p></li>
<li><p><a class="reference internal" href="../library/re.html#module-re" title="re: Regular expression operations."><code class="xref py py-mod docutils literal notranslate"><span class="pre">re</span></code></a>: More strict rules are now applied for numerical group references
and group names in regular expressions.  Only sequence of ASCII digits is now
accepted as a numerical reference.  The group name in bytes patterns and
replacement strings can now only contain ASCII letters and digits and
underscore.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/91760">gh-91760</a>.)</p></li>
<li><p><a class="reference internal" href="../library/shutil.html#module-shutil" title="shutil: High-level file operations, including copying."><code class="xref py py-mod docutils literal notranslate"><span class="pre">shutil</span></code></a>: <a class="reference internal" href="../library/shutil.html#shutil.rmtree" title="shutil.rmtree"><code class="xref py py-func docutils literal notranslate"><span class="pre">rmtree()</span></code></a>'s <em>onerror</em> parameter is deprecated in
Python 3.12; use the <em>onexc</em> parameter instead.</p></li>
<li><p><a class="reference internal" href="../library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ssl</span></code></a> options and protocols:</p>
<ul>
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a> without protocol argument is deprecated.</p></li>
<li><p><a class="reference internal" href="../library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">ssl.SSLContext</span></code></a>: <a class="reference internal" href="../library/ssl.html#ssl.SSLContext.set_npn_protocols" title="ssl.SSLContext.set_npn_protocols"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_npn_protocols()</span></code></a> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">selected_npn_protocol()</span></code> are deprecated: use ALPN
instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.OP_NO_SSL*</span></code> options</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.OP_NO_TLS*</span></code> options</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.PROTOCOL_SSLv3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.PROTOCOL_TLS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.PROTOCOL_TLSv1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.PROTOCOL_TLSv1_1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.PROTOCOL_TLSv1_2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.TLSVersion.SSLv3</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.TLSVersion.TLSv1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssl.TLSVersion.TLSv1_1</span></code></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/threading.html#module-threading" title="threading: Thread-based parallelism."><code class="xref py py-mod docutils literal notranslate"><span class="pre">threading</span></code></a> methods:</p>
<ul>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Condition.notifyAll()</span></code>: use <a class="reference internal" href="../library/threading.html#threading.Condition.notify_all" title="threading.Condition.notify_all"><code class="xref py py-meth docutils literal notranslate"><span class="pre">notify_all()</span></code></a>.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Event.isSet()</span></code>: use <a class="reference internal" href="../library/threading.html#threading.Event.is_set" title="threading.Event.is_set"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_set()</span></code></a>.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Thread.isDaemon()</span></code>, <a class="reference internal" href="../library/threading.html#threading.Thread.setDaemon" title="threading.Thread.setDaemon"><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Thread.setDaemon()</span></code></a>:
use <a class="reference internal" href="../library/threading.html#threading.Thread.daemon" title="threading.Thread.daemon"><code class="xref py py-attr docutils literal notranslate"><span class="pre">threading.Thread.daemon</span></code></a> attribute.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Thread.getName()</span></code>, <a class="reference internal" href="../library/threading.html#threading.Thread.setName" title="threading.Thread.setName"><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.Thread.setName()</span></code></a>:
use <a class="reference internal" href="../library/threading.html#threading.Thread.name" title="threading.Thread.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">threading.Thread.name</span></code></a> attribute.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.currentThread()</span></code>: use <a class="reference internal" href="../library/threading.html#threading.current_thread" title="threading.current_thread"><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.current_thread()</span></code></a>.</p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.activeCount()</span></code>: use <a class="reference internal" href="../library/threading.html#threading.active_count" title="threading.active_count"><code class="xref py py-meth docutils literal notranslate"><span class="pre">threading.active_count()</span></code></a>.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/typing.html#typing.Text" title="typing.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Text</span></code></a> (<a class="reference external" href="https://github.com/python/cpython/issues/92332">gh-92332</a>).</p></li>
<li><p>The internal class <code class="docutils literal notranslate"><span class="pre">typing._UnionGenericAlias</span></code> is no longer used to implement
<a class="reference internal" href="../library/typing.html#typing.Union" title="typing.Union"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.Union</span></code></a>. To preserve compatibility with users using this private
class, a compatibility shim will be provided until at least Python 3.17. (Contributed by
Jelle Zijlstra in <a class="reference external" href="https://github.com/python/cpython/issues/105499">gh-105499</a>.)</p></li>
<li><p><a class="reference internal" href="../library/unittest.html#unittest.IsolatedAsyncioTestCase" title="unittest.IsolatedAsyncioTestCase"><code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.IsolatedAsyncioTestCase</span></code></a>: it is deprecated to return a value
that is not <code class="docutils literal notranslate"><span class="pre">None</span></code> from a test case.</p></li>
<li><p><a class="reference internal" href="../library/urllib.parse.html#module-urllib.parse" title="urllib.parse: Parse URLs into or assemble them from components."><code class="xref py py-mod docutils literal notranslate"><span class="pre">urllib.parse</span></code></a> deprecated functions: <a class="reference internal" href="../library/urllib.parse.html#urllib.parse.urlparse" title="urllib.parse.urlparse"><code class="xref py py-func docutils literal notranslate"><span class="pre">urlparse()</span></code></a> instead</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">splitattr()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splithost()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splitnport()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splitpasswd()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splitport()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splitquery()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splittag()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splittype()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splituser()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">splitvalue()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_bytes()</span></code></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../library/wsgiref.html#module-wsgiref" title="wsgiref: WSGI Utilities and Reference Implementation."><code class="xref py py-mod docutils literal notranslate"><span class="pre">wsgiref</span></code></a>: <code class="docutils literal notranslate"><span class="pre">SimpleHandler.stdout.write()</span></code> should not do partial
writes.</p></li>
<li><p><a class="reference internal" href="../library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code class="xref py py-mod docutils literal notranslate"><span class="pre">xml.etree.ElementTree</span></code></a>: Testing the truth value of an
<a class="reference internal" href="../library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><code class="xref py py-class docutils literal notranslate"><span class="pre">Element</span></code></a> is deprecated. In a future release it
will always return <code class="docutils literal notranslate"><span class="pre">True</span></code>. Prefer explicit <code class="docutils literal notranslate"><span class="pre">len(elem)</span></code> or
<code class="docutils literal notranslate"><span class="pre">elem</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">None</span></code> tests instead.</p></li>
<li><p><a class="reference internal" href="../library/sys.html#sys._clear_type_cache" title="sys._clear_type_cache"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys._clear_type_cache()</span></code></a> is deprecated:
use <a class="reference internal" href="../library/sys.html#sys._clear_internal_caches" title="sys._clear_internal_caches"><code class="xref py py-func docutils literal notranslate"><span class="pre">sys._clear_internal_caches()</span></code></a> instead.</p></li>
</ul>
</section>
</section>
<section id="removed">
<h2>Removed<a class="headerlink" href="#removed" title="Link to this heading">¶</a></h2>
<section id="ctypes">
<h3>ctypes<a class="headerlink" href="#ctypes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed the undocumented function <code class="xref py py-func docutils literal notranslate"><span class="pre">ctypes.SetPointerType()</span></code>,
which has been deprecated since Python 3.13.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/133866">gh-133866</a>.)</p></li>
</ul>
</section>
<section id="glob">
<h3>glob<a class="headerlink" href="#glob" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed the undocumented <code class="xref py py-func docutils literal notranslate"><span class="pre">glob.glob0()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">glob.glob1()</span></code>
functions, which have been deprecated since Python 3.13. Use
<a class="reference internal" href="../library/glob.html#glob.glob" title="glob.glob"><code class="xref py py-func docutils literal notranslate"><span class="pre">glob.glob()</span></code></a> and pass a directory to its <em>root_dir</em> argument instead.
(Contributed by Barney Gale in <a class="reference external" href="https://github.com/python/cpython/issues/137466">gh-137466</a>.)</p></li>
</ul>
</section>
<section id="http-server">
<h3>http.server<a class="headerlink" href="#http-server" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed the <code class="xref py py-class docutils literal notranslate"><span class="pre">CGIHTTPRequestHandler</span></code> class
and the <code class="docutils literal notranslate"><span class="pre">--cgi</span></code> flag from the <strong class="program">python -m http.server</strong>
command-line interface. They were deprecated in Python 3.13.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/133810">gh-133810</a>.)</p></li>
</ul>
</section>
<section id="importlib-resources">
<h3>importlib.resources<a class="headerlink" href="#importlib-resources" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed deprecated <code class="docutils literal notranslate"><span class="pre">package</span></code> parameter
from <a class="reference internal" href="../library/importlib.resources.html#importlib.resources.files" title="importlib.resources.files"><code class="xref py py-func docutils literal notranslate"><span class="pre">importlib.resources.files()</span></code></a> function.
(Contributed by Semyon Moroz in <a class="reference external" href="https://github.com/python/cpython/issues/138044">gh-138044</a>)</p></li>
</ul>
</section>
<section id="pathlib">
<h3>pathlib<a class="headerlink" href="#pathlib" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed deprecated <code class="xref py py-meth docutils literal notranslate"><span class="pre">pathlib.PurePath.is_reserved()</span></code>.
Use <a class="reference internal" href="../library/os.path.html#os.path.isreserved" title="os.path.isreserved"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.path.isreserved()</span></code></a> to detect reserved paths on Windows.
(Contributed by Nikita Sobolev in <a class="reference external" href="https://github.com/python/cpython/issues/133875">gh-133875</a>.)</p></li>
</ul>
</section>
<section id="platform">
<h3>platform<a class="headerlink" href="#platform" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed the <code class="xref py py-func docutils literal notranslate"><span class="pre">platform.java_ver()</span></code> function,
which was deprecated since Python 3.13.
(Contributed by Alexey Makridenko in <a class="reference external" href="https://github.com/python/cpython/issues/133604">gh-133604</a>.)</p></li>
</ul>
</section>
<section id="sre">
<h3>sre_*<a class="headerlink" href="#sre" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed <code class="xref py py-mod docutils literal notranslate"><span class="pre">sre_compile</span></code>, <code class="xref py py-mod docutils literal notranslate"><span class="pre">sre_constants</span></code> and <code class="xref py py-mod docutils literal notranslate"><span class="pre">sre_parse</span></code> modules.
(Contributed by Stan Ulbrych in <a class="reference external" href="https://github.com/python/cpython/issues/135994">gh-135994</a>.)</p></li>
</ul>
</section>
<section id="sysconfig">
<h3>sysconfig<a class="headerlink" href="#sysconfig" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed the <em>check_home</em> parameter of <a class="reference internal" href="../library/sysconfig.html#sysconfig.is_python_build" title="sysconfig.is_python_build"><code class="xref py py-func docutils literal notranslate"><span class="pre">sysconfig.is_python_build()</span></code></a>.
(Contributed by Filipe Laíns in <a class="reference external" href="https://github.com/python/cpython/issues/92897">gh-92897</a>.)</p></li>
</ul>
</section>
<section id="threading">
<h3>threading<a class="headerlink" href="#threading" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Remove support for arbitrary positional or keyword arguments in the C
implementation of <a class="reference internal" href="../library/threading.html#threading.RLock" title="threading.RLock"><code class="xref py py-class docutils literal notranslate"><span class="pre">RLock</span></code></a> objects. This was deprecated
in Python 3.14.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/134087">gh-134087</a>.)</p></li>
</ul>
</section>
<section id="typing">
<h3>typing<a class="headerlink" href="#typing" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The undocumented keyword argument syntax for creating
<a class="reference internal" href="../library/typing.html#typing.NamedTuple" title="typing.NamedTuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple</span></code></a> classes (for example,
<code class="docutils literal notranslate"><span class="pre">Point</span> <span class="pre">=</span> <span class="pre">NamedTuple(&quot;Point&quot;,</span> <span class="pre">x=int,</span> <span class="pre">y=int)</span></code>) is no longer supported.
Use the class-based syntax or the functional syntax instead.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/133817">gh-133817</a>.)</p></li>
<li><p>Using <code class="docutils literal notranslate"><span class="pre">TD</span> <span class="pre">=</span> <span class="pre">TypedDict(&quot;TD&quot;)</span></code> or <code class="docutils literal notranslate"><span class="pre">TD</span> <span class="pre">=</span> <span class="pre">TypedDict(&quot;TD&quot;,</span> <span class="pre">None)</span></code> to
construct a <a class="reference internal" href="../library/typing.html#typing.TypedDict" title="typing.TypedDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">TypedDict</span></code></a> type with zero field is no
longer supported. Use <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">TD(TypedDict):</span> <span class="pre">pass</span></code>
or <code class="docutils literal notranslate"><span class="pre">TD</span> <span class="pre">=</span> <span class="pre">TypedDict(&quot;TD&quot;,</span> <span class="pre">{})</span></code> instead.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/133823">gh-133823</a>.)</p></li>
<li><p>Code like <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">ExtraTypeVars(P1[S],</span> <span class="pre">Protocol[T,</span> <span class="pre">T2]):</span> <span class="pre">...</span></code> now raises
a <a class="reference internal" href="../library/exceptions.html#TypeError" title="TypeError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>, because <code class="docutils literal notranslate"><span class="pre">S</span></code> is not listed in <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> parameters.
(Contributed by Nikita Sobolev in <a class="reference external" href="https://github.com/python/cpython/issues/137191">gh-137191</a>.)</p></li>
<li><p>Code like <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">B2(A[T2],</span> <span class="pre">Protocol[T1,</span> <span class="pre">T2]):</span> <span class="pre">...</span></code> now correctly handles
type parameters order: it is <code class="docutils literal notranslate"><span class="pre">(T1,</span> <span class="pre">T2)</span></code>, not <code class="docutils literal notranslate"><span class="pre">(T2,</span> <span class="pre">T1)</span></code>
as it was incorrectly infered in runtime before.
(Contributed by Nikita Sobolev in <a class="reference external" href="https://github.com/python/cpython/issues/137191">gh-137191</a>.)</p></li>
<li><p><a class="reference internal" href="../library/typing.html#typing.ByteString" title="typing.ByteString"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.ByteString</span></code></a> has been removed from <code class="docutils literal notranslate"><span class="pre">typing.__all__</span></code>.
<code class="xref py py-class docutils literal notranslate"><span class="pre">typing.ByteString</span></code> has been deprecated since Python 3.9, and is
scheduled for removal in Python 3.17.</p></li>
<li><p>The following statements now cause <code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>s to be emitted at
runtime:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">typing</span> <span class="pre">import</span> <span class="pre">ByteString</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">typing;</span> <span class="pre">typing.ByteString</span></code>.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">DeprecationWarning</span></code>s were already emitted if <a class="reference internal" href="../library/typing.html#typing.ByteString" title="typing.ByteString"><code class="xref py py-class docutils literal notranslate"><span class="pre">typing.ByteString</span></code></a>
was subclassed or used as the second argument to <a class="reference internal" href="../library/functions.html#isinstance" title="isinstance"><code class="xref py py-func docutils literal notranslate"><span class="pre">isinstance()</span></code></a> or
<a class="reference internal" href="../library/functions.html#issubclass" title="issubclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">issubclass()</span></code></a>, but warnings were not previously emitted if it was merely
imported or accessed from the <code class="xref py py-mod docutils literal notranslate"><span class="pre">typing</span></code> module.</p>
</li>
</ul>
</section>
<section id="unicodedata">
<h3>unicodedata<a class="headerlink" href="#unicodedata" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The Unicode database has been updated to Unicode 17.0.0.</p></li>
</ul>
</section>
<section id="wave">
<h3>wave<a class="headerlink" href="#wave" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed the <code class="docutils literal notranslate"><span class="pre">getmark()</span></code>, <code class="docutils literal notranslate"><span class="pre">setmark()</span></code> and <code class="docutils literal notranslate"><span class="pre">getmarkers()</span></code> methods
of the <a class="reference internal" href="../library/wave.html#wave.Wave_read" title="wave.Wave_read"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wave_read</span></code></a> and <a class="reference internal" href="../library/wave.html#wave.Wave_write" title="wave.Wave_write"><code class="xref py py-class docutils literal notranslate"><span class="pre">Wave_write</span></code></a> classes,
which were deprecated since Python 3.13.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/133873">gh-133873</a>.)</p></li>
</ul>
</section>
<section id="zipimport">
<h3>zipimport<a class="headerlink" href="#zipimport" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Remove deprecated <code class="xref py py-meth docutils literal notranslate"><span class="pre">zipimport.zipimporter.load_module()</span></code>.
Use <a class="reference internal" href="../library/zipimport.html#zipimport.zipimporter.exec_module" title="zipimport.zipimporter.exec_module"><code class="xref py py-meth docutils literal notranslate"><span class="pre">zipimport.zipimporter.exec_module()</span></code></a> instead.
(Contributed by Jiahao Li in <a class="reference external" href="https://github.com/python/cpython/issues/133656">gh-133656</a>.)</p></li>
</ul>
</section>
</section>
<section id="porting-to-python-3-15">
<h2>Porting to Python 3.15<a class="headerlink" href="#porting-to-python-3-15" title="Link to this heading">¶</a></h2>
<p>This section lists previously described changes and other bugfixes
that may require changes to your code.</p>
</section>
<section id="build-changes">
<h2>Build changes<a class="headerlink" href="#build-changes" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Removed implicit fallback to the bundled copy of the <code class="docutils literal notranslate"><span class="pre">libmpdec</span></code> library.
Now this should be explicitly enabled with <a class="reference internal" href="../using/configure.html#cmdoption-with-system-libmpdec"><code class="xref std std-option docutils literal notranslate"><span class="pre">--with-system-libmpdec</span></code></a>
set to <code class="docutils literal notranslate"><span class="pre">no</span></code> or with <code class="xref std std-option docutils literal notranslate"><span class="pre">--without-system-libmpdec</span></code>.
(Contributed by Sergey B Kirpichev in <a class="reference external" href="https://github.com/python/cpython/issues/115119">gh-115119</a>.)</p></li>
</ul>
</section>
<section id="c-api-changes">
<h2>C API changes<a class="headerlink" href="#c-api-changes" title="Link to this heading">¶</a></h2>
<section id="id2">
<h3>New features<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add <a class="reference internal" href="../c-api/sys.html#c.PySys_GetAttr" title="PySys_GetAttr"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_GetAttr()</span></code></a>, <a class="reference internal" href="../c-api/sys.html#c.PySys_GetAttrString" title="PySys_GetAttrString"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_GetAttrString()</span></code></a>,
<a class="reference internal" href="../c-api/sys.html#c.PySys_GetOptionalAttr" title="PySys_GetOptionalAttr"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_GetOptionalAttr()</span></code></a>, and <a class="reference internal" href="../c-api/sys.html#c.PySys_GetOptionalAttrString" title="PySys_GetOptionalAttrString"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_GetOptionalAttrString()</span></code></a>
functions as replacements for <a class="reference internal" href="../c-api/sys.html#c.PySys_GetObject" title="PySys_GetObject"><code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_GetObject()</span></code></a>.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/108512">gh-108512</a>.)</p></li>
<li><p>Add <a class="reference internal" href="../c-api/unicode.html#c.PyUnstable_Unicode_GET_CACHED_HASH" title="PyUnstable_Unicode_GET_CACHED_HASH"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyUnstable_Unicode_GET_CACHED_HASH</span></code></a> to get the cached hash of
a string. See the documentation for caveats.
(Contributed by Petr Viktorin in <a class="reference external" href="https://github.com/python/cpython/issues/131510">gh-131510</a>.)</p></li>
<li><p>Add API for checking an extension module's ABI compatibility:
<a class="reference internal" href="../c-api/module.html#c.Py_mod_abi" title="Py_mod_abi"><code class="xref c c-data docutils literal notranslate"><span class="pre">Py_mod_abi</span></code></a>, <a class="reference internal" href="../c-api/stable.html#c.PyABIInfo_Check" title="PyABIInfo_Check"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyABIInfo_Check()</span></code></a>, <a class="reference internal" href="../c-api/stable.html#c.PyABIInfo_VAR" title="PyABIInfo_VAR"><code class="xref c c-macro docutils literal notranslate"><span class="pre">PyABIInfo_VAR</span></code></a>
and <a class="reference internal" href="../c-api/module.html#c.Py_mod_abi" title="Py_mod_abi"><code class="xref c c-data docutils literal notranslate"><span class="pre">Py_mod_abi</span></code></a>.
(Contributed by Petr Viktorin in <a class="reference external" href="https://github.com/python/cpython/issues/137210">gh-137210</a>.)</p></li>
<li><p>Implement <span class="target" id="index-13"></span><a class="pep reference external" href="https://peps.python.org/pep-0782/"><strong>PEP 782</strong></a>, the <a class="reference internal" href="../c-api/bytes.html#pybyteswriter"><span class="std std-ref">PyBytesWriter API</span></a>.
Add functions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_Create" title="PyBytesWriter_Create"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_Create()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_Discard" title="PyBytesWriter_Discard"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_Discard()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_FinishWithPointer" title="PyBytesWriter_FinishWithPointer"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_FinishWithPointer()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_FinishWithSize" title="PyBytesWriter_FinishWithSize"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_FinishWithSize()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_Finish" title="PyBytesWriter_Finish"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_Finish()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_Format" title="PyBytesWriter_Format"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_Format()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_GetData" title="PyBytesWriter_GetData"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_GetData()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_GetSize" title="PyBytesWriter_GetSize"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_GetSize()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_GrowAndUpdatePointer" title="PyBytesWriter_GrowAndUpdatePointer"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_GrowAndUpdatePointer()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_Grow" title="PyBytesWriter_Grow"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_Grow()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_Resize" title="PyBytesWriter_Resize"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_Resize()</span></code></a></p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter_WriteBytes" title="PyBytesWriter_WriteBytes"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytesWriter_WriteBytes()</span></code></a></p></li>
</ul>
<p>(Contributed by Victor Stinner in <a class="reference external" href="https://github.com/python/cpython/issues/129813">gh-129813</a>.)</p>
</li>
<li><p>Add <a class="reference internal" href="../c-api/tuple.html#c.PyTuple_FromArray" title="PyTuple_FromArray"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyTuple_FromArray()</span></code></a> to create a <a class="reference internal" href="../library/stdtypes.html#tuple" title="tuple"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a> from an array.
(Contributed by Victor Stinner in <a class="reference external" href="https://github.com/python/cpython/issues/111489">gh-111489</a>.)</p></li>
</ul>
</section>
<section id="id3">
<h3>Porting to Python 3.15<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection" title="sqlite3.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlite3.Connection</span></code></a> APIs has been cleaned up.</p>
<ul class="simple">
<li><p>All parameters of <a class="reference internal" href="../library/sqlite3.html#sqlite3.connect" title="sqlite3.connect"><code class="xref py py-func docutils literal notranslate"><span class="pre">sqlite3.connect()</span></code></a> except <em>database</em> are now keyword-only.</p></li>
<li><p>The first three parameters of methods <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.create_function" title="sqlite3.Connection.create_function"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_function()</span></code></a>
and <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.create_aggregate" title="sqlite3.Connection.create_aggregate"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_aggregate()</span></code></a> are now positional-only.</p></li>
<li><p>The first parameter of methods <a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.set_authorizer" title="sqlite3.Connection.set_authorizer"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_authorizer()</span></code></a>,
<a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.set_progress_handler" title="sqlite3.Connection.set_progress_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_progress_handler()</span></code></a> and
<a class="reference internal" href="../library/sqlite3.html#sqlite3.Connection.set_trace_callback" title="sqlite3.Connection.set_trace_callback"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_trace_callback()</span></code></a> is now positional-only.</p></li>
</ul>
<p>(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/133595">gh-133595</a>.)</p>
</li>
<li><p>Private functions promoted to public C APIs:</p>
<p>The <a class="reference external" href="https://github.com/python/pythoncapi-compat">pythoncapi-compat project</a> can be used to get most of these new
functions on Python 3.14 and older.</p>
</li>
<li><p><a class="reference internal" href="../library/resource.html#resource.RLIM_INFINITY" title="resource.RLIM_INFINITY"><code class="xref py py-data docutils literal notranslate"><span class="pre">resource.RLIM_INFINITY</span></code></a> is now always positive.
Passing a negative integer value that corresponded to its old value
(such as <code class="docutils literal notranslate"><span class="pre">-1</span></code> or <code class="docutils literal notranslate"><span class="pre">-3</span></code>, depending on platform) to
<a class="reference internal" href="../library/resource.html#resource.setrlimit" title="resource.setrlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">resource.setrlimit()</span></code></a> and <a class="reference internal" href="../library/resource.html#resource.prlimit" title="resource.prlimit"><code class="xref py py-func docutils literal notranslate"><span class="pre">resource.prlimit()</span></code></a> is now deprecated.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/137044">gh-137044</a>.)</p></li>
<li><p><a class="reference internal" href="../library/mmap.html#mmap.mmap.resize" title="mmap.mmap.resize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">resize()</span></code></a> has been removed on platforms that don't support the
underlying syscall, instead of raising a <a class="reference internal" href="../library/exceptions.html#SystemError" title="SystemError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SystemError</span></code></a>.</p></li>
</ul>
</section>
<section id="deprecated-c-apis">
<h3>Deprecated C APIs<a class="headerlink" href="#deprecated-c-apis" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>For unsigned integer formats in <a class="reference internal" href="../c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyArg_ParseTuple()</span></code></a>,
accepting Python integers with value that is larger than the maximal value
for the C type or less than the minimal value for the corresponding
signed integer type of the same size is now deprecated.
(Contributed by Serhiy Storchaka in <a class="reference external" href="https://github.com/python/cpython/issues/132629">gh-132629</a>.)</p></li>
<li><p><a class="reference internal" href="../c-api/bytes.html#c.PyBytes_FromStringAndSize" title="PyBytes_FromStringAndSize"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyBytes_FromStringAndSize(NULL,</span> <span class="pre">len)</span></code></a>
and <a class="reference internal" href="../c-api/bytes.html#c._PyBytes_Resize" title="_PyBytes_Resize"><code class="xref c c-func docutils literal notranslate"><span class="pre">_PyBytes_Resize()</span></code></a> are <a class="reference internal" href="../glossary.html#term-soft-deprecated"><span class="xref std std-term">soft deprecated</span></a>,
use the <a class="reference internal" href="../c-api/bytes.html#c.PyBytesWriter" title="PyBytesWriter"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyBytesWriter</span></code></a> API instead.
(Contributed by Victor Stinner in <a class="reference external" href="https://github.com/python/cpython/issues/129813">gh-129813</a>.)</p></li>
<li><p>Deprecate <a class="reference internal" href="../c-api/complex.html#c.PyComplexObject.cval" title="PyComplexObject.cval"><code class="xref c c-member docutils literal notranslate"><span class="pre">cval</span></code></a> field of the the
<a class="reference internal" href="../c-api/complex.html#c.PyComplexObject" title="PyComplexObject"><code class="xref c c-type docutils literal notranslate"><span class="pre">PyComplexObject</span></code></a> type.
Use <a class="reference internal" href="../c-api/complex.html#c.PyComplex_AsCComplex" title="PyComplex_AsCComplex"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyComplex_AsCComplex()</span></code></a> and <a class="reference internal" href="../c-api/complex.html#c.PyComplex_FromCComplex" title="PyComplex_FromCComplex"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyComplex_FromCComplex()</span></code></a>
to convert a Python complex number to/from the C <a class="reference internal" href="../c-api/complex.html#c.Py_complex" title="Py_complex"><code class="xref c c-type docutils literal notranslate"><span class="pre">Py_complex</span></code></a>
representation.
(Contributed by Sergey B Kirpichev in <a class="reference external" href="https://github.com/python/cpython/issues/128813">gh-128813</a>.)</p></li>
<li><p>Functions <a class="reference internal" href="../c-api/complex.html#c._Py_c_sum" title="_Py_c_sum"><code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_c_sum()</span></code></a>, <a class="reference internal" href="../c-api/complex.html#c._Py_c_diff" title="_Py_c_diff"><code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_c_diff()</span></code></a>, <a class="reference internal" href="../c-api/complex.html#c._Py_c_neg" title="_Py_c_neg"><code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_c_neg()</span></code></a>,
<a class="reference internal" href="../c-api/complex.html#c._Py_c_prod" title="_Py_c_prod"><code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_c_prod()</span></code></a>, <a class="reference internal" href="../c-api/complex.html#c._Py_c_quot" title="_Py_c_quot"><code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_c_quot()</span></code></a>, <a class="reference internal" href="../c-api/complex.html#c._Py_c_pow" title="_Py_c_pow"><code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_c_pow()</span></code></a> and
<a class="reference internal" href="../c-api/complex.html#c._Py_c_abs" title="_Py_c_abs"><code class="xref c c-func docutils literal notranslate"><span class="pre">_Py_c_abs()</span></code></a> are <a class="reference internal" href="../glossary.html#term-soft-deprecated"><span class="xref std std-term">soft deprecated</span></a>.
(Contributed by Sergey B Kirpichev in <a class="reference external" href="https://github.com/python/cpython/issues/128813">gh-128813</a>.)</p></li>
<li><p><a class="reference internal" href="../c-api/init_config.html#c.PyConfig.bytes_warning" title="PyConfig.bytes_warning"><code class="xref c c-member docutils literal notranslate"><span class="pre">bytes_warning</span></code></a> is deprecated
since 3.15 and will be removed in 3.17.
(Contributed by Nikita Sobolev in <a class="reference external" href="https://github.com/python/cpython/issues/136355">gh-136355</a>.)</p></li>
</ul>
</section>
<section id="removed-c-apis">
<h3>Removed C APIs<a class="headerlink" href="#removed-c-apis" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Remove deprecated <code class="docutils literal notranslate"><span class="pre">PyUnicode</span></code> functions:</p>
<ul class="simple">
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsDecodedObject()</span></code>:
Use <a class="reference internal" href="../c-api/codec.html#c.PyCodec_Decode" title="PyCodec_Decode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCodec_Decode()</span></code></a> instead.</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsDecodedUnicode()</span></code>:
Use <a class="reference internal" href="../c-api/codec.html#c.PyCodec_Decode" title="PyCodec_Decode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCodec_Decode()</span></code></a> instead; Note that some codecs (for example, &quot;base64&quot;)
may return a type other than <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, such as <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>.</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsEncodedObject()</span></code>:
Use <a class="reference internal" href="../c-api/codec.html#c.PyCodec_Encode" title="PyCodec_Encode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCodec_Encode()</span></code></a> instead.</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyUnicode_AsEncodedUnicode()</span></code>:
Use <a class="reference internal" href="../c-api/codec.html#c.PyCodec_Encode" title="PyCodec_Encode"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyCodec_Encode()</span></code></a> instead; Note that some codecs (for example, &quot;base64&quot;)
may return a type other than <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a>, such as <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>.</p></li>
</ul>
<p>(Contributed by Stan Ulbrych in <a class="reference external" href="https://github.com/python/cpython/issues/133612">gh-133612</a>.)</p>
</li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_ImportModuleNoBlock()</span></code>: deprecated alias
of <a class="reference internal" href="../c-api/import.html#c.PyImport_ImportModule" title="PyImport_ImportModule"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyImport_ImportModule()</span></code></a>.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/133644">gh-133644</a>.)</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">PyWeakref_GetObject()</span></code> and <code class="xref c c-macro docutils literal notranslate"><span class="pre">PyWeakref_GET_OBJECT</span></code>:
use <a class="reference internal" href="../c-api/weakref.html#c.PyWeakref_GetRef" title="PyWeakref_GetRef"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyWeakref_GetRef()</span></code></a> instead. The <a class="reference external" href="https://github.com/python/pythoncapi-compat">pythoncapi-compat project</a>
can be used to get <code class="xref c c-func docutils literal notranslate"><span class="pre">PyWeakref_GetRef()</span></code> on Python 3.12 and older.
(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/133644">gh-133644</a>.)</p></li>
<li><p>Remove deprecated <code class="xref c c-func docutils literal notranslate"><span class="pre">PySys_ResetWarnOptions()</span></code>.
Clear <a class="reference internal" href="../library/sys.html#sys.warnoptions" title="sys.warnoptions"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.warnoptions</span></code></a> and <code class="xref py py-data docutils literal notranslate"><span class="pre">warnings.filters</span></code> instead.</p>
<p>(Contributed by Nikita Sobolev in <a class="reference external" href="https://github.com/python/cpython/issues/138886">gh-138886</a>.)</p>
</li>
</ul>
<p>The following functions are removed in favor of <a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get()</span></code></a>.
The <a class="reference external" href="https://github.com/python/pythoncapi-compat">pythoncapi-compat project</a> can be used to get <code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get()</span></code>
on Python 3.13 and older.</p>
<ul>
<li><p>Python initialization functions:</p>
<ul class="simple">
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetExecPrefix()</span></code>:
use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get(&quot;base_exec_prefix&quot;)</span></code></a>
(<a class="reference internal" href="../library/sys.html#sys.base_exec_prefix" title="sys.base_exec_prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.base_exec_prefix</span></code></a>) instead.
Use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get(&quot;exec_prefix&quot;)</span></code></a>
(<a class="reference internal" href="../library/sys.html#sys.exec_prefix" title="sys.exec_prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.exec_prefix</span></code></a>) if <a class="reference internal" href="../library/venv.html#venv-def"><span class="std std-ref">virtual environments</span></a>
need to be handled.</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetPath()</span></code>:
use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get(&quot;module_search_paths&quot;)</span></code></a>
(<a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.path</span></code></a>) instead.</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetPrefix()</span></code>:
use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get(&quot;base_prefix&quot;)</span></code></a>
(<a class="reference internal" href="../library/sys.html#sys.base_prefix" title="sys.base_prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.base_prefix</span></code></a>) instead.
Use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get(&quot;prefix&quot;)</span></code></a>
(<a class="reference internal" href="../library/sys.html#sys.prefix" title="sys.prefix"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.prefix</span></code></a>) if <a class="reference internal" href="../library/venv.html#venv-def"><span class="std std-ref">virtual environments</span></a>
need to be handled.</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetProgramFullPath()</span></code>:
use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get(&quot;executable&quot;)</span></code></a>
(<a class="reference internal" href="../library/sys.html#sys.executable" title="sys.executable"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.executable</span></code></a>) instead.</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetProgramName()</span></code>:
use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get(&quot;executable&quot;)</span></code></a>
(<a class="reference internal" href="../library/sys.html#sys.executable" title="sys.executable"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.executable</span></code></a>) instead.</p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">Py_GetPythonHome()</span></code>:
use <a class="reference internal" href="../c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code class="xref c c-func docutils literal notranslate"><span class="pre">PyConfig_Get(&quot;home&quot;)</span></code></a> or the
<span class="target" id="index-14"></span><a class="reference internal" href="../using/cmdline.html#envvar-PYTHONHOME"><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PYTHONHOME</span></code></a> environment variable instead.</p></li>
</ul>
<p>(Contributed by Bénédikt Tran in <a class="reference external" href="https://github.com/python/cpython/issues/133644">gh-133644</a>.)</p>
</li>
</ul>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">What's new in Python 3.15</a><ul>
<li><a class="reference internal" href="#summary-release-highlights">Summary --- release highlights</a></li>
<li><a class="reference internal" href="#new-features">New features</a><ul>
<li><a class="reference internal" href="#high-frequency-statistical-sampling-profiler">High frequency statistical sampling profiler</a></li>
<li><a class="reference internal" href="#improved-error-messages">Improved error messages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-language-changes">Other language changes</a></li>
<li><a class="reference internal" href="#new-modules">New modules</a></li>
<li><a class="reference internal" href="#improved-modules">Improved modules</a><ul>
<li><a class="reference internal" href="#collections">collections</a></li>
<li><a class="reference internal" href="#collections-abc">collections.abc</a></li>
<li><a class="reference internal" href="#dbm">dbm</a></li>
<li><a class="reference internal" href="#difflib">difflib</a></li>
<li><a class="reference internal" href="#hashlib">hashlib</a></li>
<li><a class="reference internal" href="#http-client">http.client</a></li>
<li><a class="reference internal" href="#http-cookies">http.cookies</a></li>
<li><a class="reference internal" href="#locale">locale</a></li>
<li><a class="reference internal" href="#math">math</a></li>
<li><a class="reference internal" href="#mmap">mmap</a></li>
<li><a class="reference internal" href="#os-path">os.path</a></li>
<li><a class="reference internal" href="#resource">resource</a></li>
<li><a class="reference internal" href="#shelve">shelve</a></li>
<li><a class="reference internal" href="#socket">socket</a></li>
<li><a class="reference internal" href="#sqlite3">sqlite3</a></li>
<li><a class="reference internal" href="#ssl">ssl</a></li>
<li><a class="reference internal" href="#sys">sys</a></li>
<li><a class="reference internal" href="#tarfile">tarfile</a></li>
<li><a class="reference internal" href="#timeit">timeit</a></li>
<li><a class="reference internal" href="#types">types</a></li>
<li><a class="reference internal" href="#unittest">unittest</a></li>
<li><a class="reference internal" href="#xml-parsers-expat">xml.parsers.expat</a></li>
<li><a class="reference internal" href="#zlib">zlib</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optimizations">Optimizations</a><ul>
<li><a class="reference internal" href="#module-name">module_name</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deprecated">Deprecated</a><ul>
<li><a class="reference internal" href="#cli">CLI</a></li>
<li><a class="reference internal" href="#id1">hashlib</a></li>
<li><a class="reference internal" href="#version">__version__</a></li>
<li><a class="reference internal" href="#pending-removal-in-python-3-16">Pending removal in Python 3.16</a></li>
<li><a class="reference internal" href="#pending-removal-in-python-3-17">Pending removal in Python 3.17</a></li>
<li><a class="reference internal" href="#pending-removal-in-python-3-19">Pending removal in Python 3.19</a></li>
<li><a class="reference internal" href="#pending-removal-in-python-3-20">Pending removal in Python 3.20</a></li>
<li><a class="reference internal" href="#pending-removal-in-future-versions">Pending removal in future versions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#removed">Removed</a><ul>
<li><a class="reference internal" href="#ctypes">ctypes</a></li>
<li><a class="reference internal" href="#glob">glob</a></li>
<li><a class="reference internal" href="#http-server">http.server</a></li>
<li><a class="reference internal" href="#importlib-resources">importlib.resources</a></li>
<li><a class="reference internal" href="#pathlib">pathlib</a></li>
<li><a class="reference internal" href="#platform">platform</a></li>
<li><a class="reference internal" href="#sre">sre_*</a></li>
<li><a class="reference internal" href="#sysconfig">sysconfig</a></li>
<li><a class="reference internal" href="#threading">threading</a></li>
<li><a class="reference internal" href="#typing">typing</a></li>
<li><a class="reference internal" href="#unicodedata">unicodedata</a></li>
<li><a class="reference internal" href="#wave">wave</a></li>
<li><a class="reference internal" href="#zipimport">zipimport</a></li>
</ul>
</li>
<li><a class="reference internal" href="#porting-to-python-3-15">Porting to Python 3.15</a></li>
<li><a class="reference internal" href="#build-changes">Build changes</a></li>
<li><a class="reference internal" href="#c-api-changes">C API changes</a><ul>
<li><a class="reference internal" href="#id2">New features</a></li>
<li><a class="reference internal" href="#id3">Porting to Python 3.15</a></li>
<li><a class="reference internal" href="#deprecated-c-apis">Deprecated C APIs</a></li>
<li><a class="reference internal" href="#removed-c-apis">Removed C APIs</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>上一主题</h4>
    <p class="topless"><a href="index.html"
                          title="上一章">What's New in Python</a></p>
  </div>
  <div>
    <h4>下一主题</h4>
    <p class="topless"><a href="3.14.html"
                          title="下一章">What's new in Python 3.14</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Report a bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/whatsnew/3.15.rst?plain=1"
            rel="nofollow">Show source
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="折叠边栏">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="Related">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="3.14.html" title="What&#39;s new in Python 3.14"
             >下一页</a> |</li>
        <li class="right" >
          <a href="index.html" title="What&#39;s New in Python"
             >上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
          <li id="cpython-language-and-version">
            <a href="../index.html">3.15.0a0 Documentation</a> &#187;
          </li>

          <li class="nav-item nav-item-1"><a href="index.html" >What's New in Python</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">What's new in Python 3.15</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="search" name="q" id="search-box">
          <input type="submit" value="转到">
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    主题
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>自动</option>
        <option value="light">明亮</option>
        <option value="dark">黑暗</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">版权</a> 2001 Python Software Foundation.
    <br>
    本页面采用 Python 软件基金会许可证第 2 版授权。
    <br>
    文档中的示例、代码片段及其他代码内容额外采用零条款 BSD 许可证授权。
    <br>
    
      更多信息请参阅《<a href="/license.html"> 历史与许可 </a>》。<br>
    
    
    <br>

    Python 软件基金会是一家非营利性公司。
<a href="https://www.python.org/psf/donations/">请进行捐赠。</a>
<br>
    <br>
      最后更新于10月 27, 2025 (08:27 UTC) 。
    
      <a href="/bugs.html">发现了错误</a>？
    
    <br>

    使用<a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3 创建。
    </div>

  </body>
</html>